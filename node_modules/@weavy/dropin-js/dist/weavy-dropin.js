!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Weavy=t():e.Weavy=t()}(self,(()=>(()=>{"use strict";var e={497:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),a=n(645),i=n.n(a)()(o());i.push([e.id,"@supports(display: contents){weavy,weavy-root{display:contents}}@supports not (display: contents){weavy,weavy-root{display:flex;position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}}",""]);const s=i.toString()},621:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(81),o=n.n(r),a=n(645),i=n.n(a),s=n(667),l=n.n(s),c=new URL(n(6),n.b),d=i()(o()),u=l()(c);d.push([e.id,':where(:root,:host>*){--wy-theme: #00658e;--wy-black: #000000;--wy-white: #ffffff;--wy-shadow: #000000;--wy-primary-99: #fbfcff;--wy-primary-95: #e4f3ff;--wy-primary-90: #c7e7ff;--wy-primary-80: #84cfff;--wy-primary-70: #53b5ec;--wy-primary-60: #2f9ad0;--wy-primary-50: #007fb2;--wy-primary-40: #00658e;--wy-primary-30: #004c6c;--wy-primary-20: #00344c;--wy-primary-10: #001e2e;--wy-secondary-99: #fffbff;--wy-secondary-95: #fff2a4;--wy-secondary-90: #f6e468;--wy-secondary-80: #d9c84f;--wy-secondary-70: #bcad36;--wy-secondary-60: #a0921a;--wy-secondary-50: #857800;--wy-secondary-40: #6a5f00;--wy-secondary-30: #504700;--wy-secondary-20: #373100;--wy-secondary-10: #201c00;--wy-tertiary-99: #fffbff;--wy-tertiary-95: #fff2a4;--wy-tertiary-90: #f6e468;--wy-tertiary-80: #d9c84f;--wy-tertiary-70: #bcad36;--wy-tertiary-60: #a0921a;--wy-tertiary-50: #857800;--wy-tertiary-40: #6a5f00;--wy-tertiary-30: #504700;--wy-tertiary-20: #373100;--wy-tertiary-10: #201c00;--wy-error-99: #fffbff;--wy-error-95: #ffedea;--wy-error-90: #ffdad6;--wy-error-80: #ffb4ab;--wy-error-70: #ff897d;--wy-error-60: #ff5449;--wy-error-50: #de3730;--wy-error-40: #ba1a1a;--wy-error-30: #93000a;--wy-error-20: #690005;--wy-error-10: #410002;--wy-neutral-99: #fcfcff;--wy-neutral-95: #f0f1f3;--wy-neutral-90: #e2e2e5;--wy-neutral-80: #c5c6c9;--wy-neutral-70: #aaabae;--wy-neutral-60: #8f9193;--wy-neutral-50: #75777a;--wy-neutral-40: #5c5e61;--wy-neutral-30: #454749;--wy-neutral-20: #2e3133;--wy-neutral-10: #191c1e;--wy-neutral-variant-99: #fbfcff;--wy-neutral-variant-95: #ebf1f8;--wy-neutral-variant-90: #dde3ea;--wy-neutral-variant-80: #c1c7ce;--wy-neutral-variant-70: #a5acb2;--wy-neutral-variant-60: #8b9198;--wy-neutral-variant-50: #71787e;--wy-neutral-variant-40: #595f65;--wy-neutral-variant-30: #41484d;--wy-neutral-variant-20: #2b3136;--wy-neutral-variant-10: #161c21;--wy-surface-1-light: #f0f4f9;--wy-surface-2-light: #e8f0f6;--wy-surface-3-light: #e0ebf2;--wy-surface-4-light: #deeaf1;--wy-surface-5-light: #d9e7ef;--wy-surface-1-dark: #1e2428;--wy-surface-2-dark: #212a2f;--wy-surface-3-dark: #242f36;--wy-surface-4-dark: #253138;--wy-surface-5-dark: #27343c;--wy-blue-light: #7aadfa;--wy-indigo-light: #8489e0;--wy-purple-light: #bd78c2;--wy-pink-light: #d072a2;--wy-red-light: #da717c;--wy-orange-light: #ef9646;--wy-yellow-light: #d9c84f;--wy-green-light: #56a15c;--wy-teal-light: #00a29d;--wy-cyan-light: #008398;--wy-gray-light: #75777a;--wy-blue-dark: #a7c8ff;--wy-indigo-dark: #8489e0;--wy-purple-dark: #da92de;--wy-pink-dark: #ee8cbe;--wy-red-dark: #da717c;--wy-orange-dark: #ef9646;--wy-yellow-dark: #d9c84f;--wy-green-dark: #56a15c;--wy-teal-dark: #00a29d;--wy-cyan-dark: #009fb8;--wy-gray-dark: #8f9193}:where(:root,:host>*,.wy-light){color-scheme:light;--wy-primary: var(--wy-primary-40);--wy-on-primary: var(--wy-white);--wy-primary-container: var(--wy-primary-90);--wy-on-primary-container: var(--wy-primary-10);--wy-secondary: var(--wy-secondary-40);--wy-on-secondary: var(--wy-white);--wy-secondary-container: var(--wy-secondary-90);--wy-on-secondary-container: var(--wy-secondary-10);--wy-tertiary: var(--wy-tertiary-40);--wy-on-tertiary: var(--wy-white);--wy-tertiary-container: var(--wy-tertiary-90);--wy-on-tertiary-container: var(--wy-tertiary-10);--wy-error: var(--wy-error-40);--wy-on-error: var(--wy-white);--wy-error-container: var(--wy-error-90);--wy-on-error-container: var(--wy-error-10);--wy-background: var(--wy-neutral-99);--wy-on-background: var(--wy-neutral-10);--wy-surface: var(--wy-neutral-99);--wy-on-surface: var(--wy-neutral-10);--wy-surface-variant: var(--wy-neutral-variant-90);--wy-on-surface-variant: var(--wy-neutral-variant-30);--wy-outline: var(--wy-neutral-variant-50);--wy-outline-variant: var(--wy-neutral-variant-80);--wy-inverse-surface: var(--wy-neutral-20);--wy-on-inverse-surface: var(--wy-neutral-95);--wy-inverse-primary: var(--wy-primary-80);--wy-surface-1: var(--wy-surface-1-light);--wy-surface-2: var(--wy-surface-2-light);--wy-surface-3: var(--wy-surface-3-light);--wy-surface-4: var(--wy-surface-4-light);--wy-surface-5: var(--wy-surface-5-light);--wy-link: var(--wy-primary-40);--wy-blue: var(--wy-blue-light);--wy-indigo: var(--wy-indigo-light);--wy-purple: var(--wy-purple-light);--wy-pink: var(--wy-pink-light);--wy-red: var(--wy-red-light);--wy-orange: var(--wy-orange-light);--wy-yellow: var(--wy-yellow-light);--wy-green: var(--wy-green-light);--wy-teal: var(--wy-teal-light);--wy-cyan: var(--wy-cyan-light);--wy-gray: var(--wy-gray-light)}:where(.wy-dark:not(.wy-light)){color-scheme:dark;--wy-primary: var(--wy-primary-80);--wy-on-primary: var(--wy-primary-20);--wy-primary-container: var(--wy-primary-30);--wy-on-primary-container: var(--wy-primary-90);--wy-secondary: var(--wy-secondary-80);--wy-on-secondary: var(--wy-secondary-20);--wy-secondary-container: var(--wy-secondary-30);--wy-on-secondary-container: var(--wy-secondary-90);--wy-tertiary: var(--wy-tertiary-80);--wy-on-tertiary: var(--wy-tertiary-20);--wy-tertiary-container: var(--wy-tertiary-30);--wy-on-tertiary-container: var(--wy-tertiary-90);--wy-error: var(--wy-error-80);--wy-on-error: var(--wy-error-20);--wy-error-container: var(--wy-error-30);--wy-on-error-container: var(--wy-error-90);--wy-background: var(--wy-neutral-10);--wy-on-background: var(--wy-neutral-90);--wy-surface: var(--wy-neutral-10);--wy-on-surface: var(--wy-neutral-90);--wy-surface-variant: var(--wy-neutral-variant-30);--wy-on-surface-variant: var(--wy-neutral-variant-80);--wy-outline: var(--wy-neutral-variant-60);--wy-outline-variant: var(--wy-neutral-variant-30);--wy-inverse-surface: var(--wy-neutral-90);--wy-on-inverse-surface: var(--wy-neutral-20);--wy-inverse-primary: var(--wy-primary-40);--wy-surface-1: var(--wy-surface-1-dark);--wy-surface-2: var(--wy-surface-2-dark);--wy-surface-3: var(--wy-surface-3-dark);--wy-surface-4: var(--wy-surface-4-dark);--wy-surface-5: var(--wy-surface-5-dark);--wy-link: var(--wy-primary-80);--wy-blue: var(--wy-blue-dark);--wy-indigo: var(--wy-indigo-dark);--wy-purple: var(--wy-purple-dark);--wy-pink: var(--wy-pink-dark);--wy-red: var(--wy-red-dark);--wy-orange: var(--wy-orange-dark);--wy-yellow: var(--wy-yellow-dark);--wy-green: var(--wy-green-dark);--wy-teal: var(--wy-teal-dark);--wy-cyan: var(--wy-cyan-dark);--wy-gray: var(--wy-gray-dark)}:where(:root,:host>*){--wy-font-family: unset;--wy-font-weight: unset;--wy-line-height: 1.5;--wy-font-size-base: 1rem;--wy-font-size-xxs: calc(.625 * var(--wy-font-size-base));--wy-font-size-xs: calc(.75 * var(--wy-font-size-base));--wy-font-size-sm: calc(.875 * var(--wy-font-size-base));--wy-font-size-lg: calc(1.25 * var(--wy-font-size-base));--wy-headings-font-style: unset;--wy-headings-font-family: var(--wy-font-family);--wy-headings-font-weight: 500;--wy-headings-line-height: var(--wy-line-height);--wy-border-radius: .5rem;--wy-border-radius-sm: calc(.75 * var(--wy-border-radius));--wy-border-radius-lg: calc(1.5 * var(--wy-border-radius));--wy-border-radius-xl: calc(2 * var(--wy-border-radius));--wy-border-radius-pill: 50rem;--wy-link-decoration: none;--wy-link-hover-decoration: null;--wy-table-cell-padding-x: .25rem;--wy-table-cell-padding-y: .25rem;--wy-input-padding-y: .4375rem;--wy-input-padding-x: .75rem;--wy-input-font-family: unset;--wy-input-font-size: var(--wy-font-size-base);--wy-input-font-weight: var(--wy-font-weight);--wy-input-line-height: var(--wy-line-height);--wy-input-border-width: 1px;--wy-input-border-radius: var(--wy-border-radius);--wy-shadow-level0: none;--wy-shadow-level1: 0 0.125rem 0.125rem 0 rgba(0, 0, 0, 0.14), 0 0.1875rem 0.0625rem -0.125rem rgba(0, 0, 0, 0.2), 0 0.0625rem 0.3125rem 0 rgba(0, 0, 0, 0.12);--wy-shadow-level2: 0 0.25rem 0.3125rem 0 rgba(0, 0, 0, 0.14), 0 0.0625rem 0.625rem 0 rgba(0, 0, 0, 0.12), 0 0.125rem 0.25rem -0.0625rem rgba(0, 0, 0, 0.2);--wy-shadow-level3: 0 0.5rem 0.625rem 0.0625rem rgba(0, 0, 0, 0.14), 0 0.1875rem 1.25rem 0.125rem rgba(0, 0, 0, 0.12), 0 0.3125rem 0.3125rem -0.1875rem rgba(0, 0, 0, 0.2);--wy-shadow-level4: 0 1rem 2.25rem 0.125rem rgba(0, 0, 0, 0.14), 0 0.375rem 1.875rem 0.3125rem rgba(0, 0, 0, 0.12), 0 0.5rem 0.625rem -0.3125rem rgba(0, 0, 0, 0.2);--wy-transition-curve: cubic-bezier(0.4, 0, 0.2, 1);--wy-transition-duration: 0.2s;--wy-transition-duration-fast: 0.1s;--wy-transition: var(--wy-transition-duration) var(--wy-transition-curve);--wy-transition-fast: var(--wy-transition-duration-fast) var(--wy-transition-curve);--wy-opacity-backdrop: 95%;--wy-opacity-muted: 38%;--wy-opacity-disabled: 38%;--wy-opacity-state-hover: 8%;--wy-opacity-state-focus: 12%;--wy-opacity-state-active: 12%;--wy-opacity-state-drag: 16%;--wy-surface-1-mix: 5%;--wy-surface-2-mix: 8%;--wy-surface-3-mix: 11%;--wy-surface-4-mix: 12%;--wy-surface-5-mix: 14%}:where([class^=wy-],[class*=" wy-"]){box-sizing:border-box}:where([class^=wy-],[class*=" wy-"]) *::before,:where([class^=wy-],[class*=" wy-"]) *::after{box-sizing:inherit}:where([class^=wy-],[class*=" wy-"]):where(a),:where([class^=wy-],[class*=" wy-"]) *:where(a){text-decoration:var(--wy-link-decoration);color:var(--wy-link)}:where([class^=wy-],[class*=" wy-"]):where(a):hover,:where([class^=wy-],[class*=" wy-"]) *:where(a):hover{text-decoration:var(--wy-link-hover-decoration)}:where([class^=wy-],[class*=" wy-"]):where(a):where(:not([href]):not([class])),:where([class^=wy-],[class*=" wy-"]):where(a):where(:not([href]):not([class])):hover,:where([class^=wy-],[class*=" wy-"]) *:where(a):where(:not([href]):not([class])),:where([class^=wy-],[class*=" wy-"]) *:where(a):where(:not([href]):not([class])):hover{text-decoration:none}:where([class^=wy-],[class*=" wy-"]):where(p),:where([class^=wy-],[class*=" wy-"]) *:where(p){margin-top:0;margin-bottom:1rem}:where([class^=wy-],[class*=" wy-"]):where(label),:where([class^=wy-],[class*=" wy-"]) *:where(label){cursor:inherit}:where([class^=wy-],[class*=" wy-"])[hidden],:where([class^=wy-],[class*=" wy-"]) *[hidden]{display:none !important}:where([class^=wy-],[class*=" wy-"]):where([role=button]),:where([class^=wy-],[class*=" wy-"]) *:where([role=button]){cursor:pointer}.wy-alerts{position:fixed;left:0;top:4rem;right:0;pointer-events:none;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1030;gap:1rem}.wy-alert{background:var(--wy-surface-1);color:var(--wy-on-surface);margin:0 0 1rem;gap:.5rem;display:flex;flex-direction:row;flex-wrap:wrap;align-items:baseline;cursor:pointer;border-radius:var(--wy-border-radius);margin-left:auto;margin-right:auto;margin-bottom:1rem;padding:.5rem 1rem;user-select:none;position:relative;overflow:hidden;height:auto;gap:.5rem}.wy-alert.wy-fade{transition:all var(--wy-transition)}.wy-alert.wy-fade:not(.wy-show){opacity:0;height:0;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0}.wy-alert .wy-text{line-height:1.5;padding:.5rem}.wy-alert .wy-button{margin-left:auto;pointer-events:auto}.wy-alert-primary{background:var(--wy-primary-container);color:var(--wy-on-primary-container)}.wy-filebrowsers{pointer-events:none;width:auto;left:0;top:0;right:0;bottom:0;max-width:none;display:flex;align-items:center;justify-content:center}.wy-filebrowser-frame{pointer-events:all;display:none;width:100%;height:100%;z-index:99999999;position:absolute;top:0;left:0;border:0;background:rgba(0,0,0,.5)}.wy-icon{display:inline-flex;align-items:center;justify-content:center;flex:0 0 auto;position:relative}.wy-icon:not([width]){width:1.5rem}.wy-icon:not([height]){height:1.5rem}.wy-icon-overlay{position:absolute;bottom:0;right:0;background:var(--wy-component-background-color, var(--wy-background));border-radius:50%;border:1px solid var(--wy-component-background-color, var(--wy-background))}.wy-icon-stack{display:inline-flex;position:relative;line-height:1}.wy-icon-stack .wy-icon:last-child{position:absolute;bottom:0;right:0;background-color:var(--wy-component-background-color, var(--wy-background));border-radius:50%}.wy-icon-active-stack{display:inline-flex;position:relative;line-height:1}.wy-icon-active-stack>*{transition:opacity var(--wy-transition);align-self:center;justify-self:center;margin:auto}.wy-icon-active-stack>:last-child{position:absolute;opacity:0}.wy-icon-active-stack.wy-active>:first-child,.wy-active .wy-icon-active-stack>:first-child{opacity:0}.wy-icon-active-stack.wy-active>:last-child,.wy-active .wy-icon-active-stack>:last-child{opacity:1}.wy-icon:not([class*=wy-icon-]):not([class*=wy-kind-]):not([data-icon=progress]) *{fill:currentColor}.wy-content-icon{border-radius:var(--wy-component-border-radius, var(--wy-border-radius-lg));display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:1rem 2rem;margin:auto}.wy-content-icon>.wy-icon-stack,.wy-content-icon>.wy-icon{width:4rem;height:4rem}.wy-icon-primary *{fill:var(--wy-primary)}.wy-icon-error *{fill:var(--wy-error)}.wy-icon-blue *{fill:var(--wy-blue)}.wy-icon-indigo *{fill:var(--wy-indigo)}.wy-icon-purple *{fill:var(--wy-purple)}.wy-icon-pink *{fill:var(--wy-pink)}.wy-icon-red *{fill:var(--wy-red)}.wy-icon-orange *{fill:var(--wy-orange)}.wy-icon-yellow *{fill:var(--wy-yellow)}.wy-icon-green *{fill:var(--wy-green)}.wy-icon-teal *{fill:var(--wy-teal)}.wy-icon-cyan *{fill:var(--wy-cyan)}.wy-icon-gray *{fill:var(--wy-gray)}[class*=wy-kind-] *{fill:var(--wy-gray)}.wy-kind-archive *{fill:var(--wy-orange)}.wy-kind-audio *{fill:var(--wy-teal)}.wy-kind-code *{fill:var(--wy-green)}.wy-kind-document *{fill:var(--wy-blue)}.wy-kind-email *{fill:var(--wy-red)}.wy-kind-presentation *{fill:var(--wy-orange)}.wy-kind-spreadsheet *{fill:var(--wy-green)}.wy-kind-image *{fill:var(--wy-pink)}.wy-kind-text *{fill:var(--wy-cyan)}.wy-kind-video *{fill:var(--wy-purple)}.wy-ext-pdf *{fill:var(--wy-red)}[data-icon=progress].wy-icon-primary{color:var(--wy-primary)}[data-icon=progress] :first-child{fill:none;stroke:var(--wy-surface-variant)}[data-icon=progress] :last-child{fill:none;stroke:currentColor}.wy-viewport{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483647;pointer-events:none}.wy-overlays{pointer-events:none;width:auto;left:0;top:0;right:0;bottom:0;max-width:none;display:flex;align-items:center;justify-content:center;transform-style:preserve-3d;overflow-y:initial;overflow-x:initial;perspective:100rem;perspective-origin:center center}.wy-overlays .wy-panel{background-color:var(--wy-background)}.wy-overlays .wy-panel:not(.wy-transition){transform:translateZ(-4rem) !important}.wy-overlays .wy-panel .wy-controls{position:absolute;border-bottom:none;flex-direction:row;transition:opacity .1s .2s step-end}.wy-overlays .wy-panel .wy-controls .wy-icon{color:var(--wy-on-surface)}.wy-overlays .wy-panel.wy-loaded .wy-controls{pointer-events:none;opacity:0}.wy-overlays .wy-panel .wy-panel-frame{background-color:rgba(0,0,0,0)}@media(min-width: 768px){.wy-overlays .wy-panel.wy-modal{left:auto;right:auto;top:2rem;bottom:3.2rem;margin-left:4rem;margin-top:auto;margin-right:4rem;margin-bottom:auto;border-radius:var(--wy-border-radius);box-shadow:var(--wy-shadow-level4);width:32rem;max-height:32rem}.wy-overlays .wy-panel.wy-modal:not(.wy-scroll-y){overflow:hidden}}@media(min-width: 768px){.wy-overlays .wy-panel.wy-modal-full{left:1rem;top:1rem;right:1rem;bottom:1rem;margin:0;border-radius:var(--wy-border-radius);box-shadow:var(--wy-shadow-level4);width:auto;max-height:none}.wy-overlays .wy-panel.wy-modal-full:not(.wy-scroll-y){overflow:hidden}}.wy-overlays .wy-panel.wy-loading .wy-controls{transition:opacity var(--wy-transition);opacity:1}.wy-panels{position:absolute;top:0;right:0;bottom:0;left:0;overscroll-behavior:contain;overflow-y:auto;overflow-x:hidden}.wy-panel{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:hidden;background-color:var(--wy-background);display:flex;flex-direction:column}.wy-panel .wy-controls{top:.25rem;left:.25rem;min-width:2.5rem;width:auto;display:flex;z-index:10000;order:-1;flex-direction:row-reverse;border-bottom:1px solid var(--wy-outline-variant)}.wy-panel .wy-controls:empty{display:none}.wy-panel .wy-controls .wy-icon{color:var(--wy-on-background)}.wy-panel .wy-panel-frame{transition:opacity var(--wy-transition-fast);transition-delay:.2s;opacity:1}.wy-panel:not(.wy-loaded) .wy-panel-frame{opacity:0;transition:opacity .2s step-start;transition-delay:.1s}.wy-panel.wy-open{pointer-events:all;z-index:5}.wy-panel.wy-open[data-title]::before{content:attr(data-title);position:absolute;top:0;left:0;right:0;height:3rem;padding:.25rem;opacity:0;pointer-events:none;display:flex;align-items:center;justify-content:center;transition:opacity .1s step-end;transition-delay:.2s;font-family:var(--wy-font-family),inherit;line-height:var(--wy-line-height);font-weight:var(--wy-font-weight);background-color:var(--wy-surface-1);color:var(--wy-on-surface);box-shadow:var(--wy-outline-variant) 0px -1px 0px 0px inset;backface-visibility:hidden}@supports(backdrop-filter: blur(0.5rem)){.wy-panel.wy-open[data-title]::before{backdrop-filter:blur(0.5rem)}}.wy-panel.wy-open::after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;opacity:0;transition:opacity var(--wy-transition);transition-duration:0s}.wy-panel.wy-open.wy-loading[data-title]::before{opacity:1}.wy-panel.wy-open.wy-loading::after{transition:opacity var(--wy-transition);transition-duration:.5s;opacity:1;background-image:url('+u+');background-repeat:no-repeat;background-position:50%;background-size:rem(2);background-color:rgba(0,0,0,0)}.wy-panel{opacity:0;visibility:hidden;transition:opacity var(--wy-transition-fast) .01s,transform var(--wy-transition-fast) .01s,visibility .01s step-end var(--wy-transition-duration-fast)}.wy-panel.wy-open{transition:opacity var(--wy-transition),transform var(--wy-transition),visibility var(--wy-transition-duration) step-start;visibility:visible}.wy-panel.wy-open.wy-transition{opacity:1;transform:none}.wy-panel-frame{flex:1 1 100%;border:0}:where(:root,:host>*){--wy-btn-padding-x: 1.5rem;--wy-btn-padding-y: .5rem;--wy-btn-font-family: var(--wy-font-family);--wy-btn-font-size: var(--wy-font-size-base);--wy-btn-font-weight: 400;--wy-btn-line-height: var(--wy-line-height);--wy-btn-border-width: 0;--wy-btn-border-color: transparent;--wy-btn-border-radius: 1.25rem}.wy-button{--wy-component-color: var(--wy-primary);color:var(--wy-component-color);background:var(--wy-component-background-color, transparent);padding:var(--wy-btn-padding-y) var(--wy-btn-padding-x);font-family:var(--wy-btn-font-family),inherit;font-size:var(--wy-btn-font-size);font-weight:var(--wy-btn-font-weight);line-height:var(--wy-btn-line-height);text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;user-select:none;border:var(--wy-btn-border-width) solid var(--wy-btn-border-color);border-radius:var(--wy-btn-border-radius);display:inline-flex;align-items:center;justify-content:center;gap:.25rem;position:relative}.wy-button:not(.wy-button-link,:disabled)>*{z-index:3}.wy-button:not(.wy-button-link,:disabled)::before{content:"";z-index:2;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background:var(--wy-component-color);opacity:0%}.wy-button:not(.wy-button-link,:disabled):hover::before{opacity:8%}.wy-button:not(.wy-button-link,:disabled):focus::before,.wy-button:not(.wy-button-link,:disabled):active::before,.wy-button:not(.wy-button-link,:disabled).wy-active::before{opacity:12%}.wy-button:not(.wy-button-icon) .wy-icon:first-child{margin-left:-0.5rem}.wy-button:not(.wy-button-icon) .wy-icon:last-child{margin-right:-0.5rem}.wy-button:disabled{opacity:var(--wy-opacity-disabled);cursor:unset;pointer-events:none}.wy-button-icon{--wy-component-color: var(--wy-on-surface-variant);width:2.5rem;height:2.5rem;padding:.5rem;line-height:1;border-radius:var(--wy-border-radius-pill);border-width:0;align-items:center;justify-content:center}.wy-button-icon.wy-active{--wy-component-color: var(--wy-primary)}.wy-button-primary{--wy-component-background-color: var(--wy-primary);--wy-component-color: var(--wy-on-primary)}.wy-button-variant{--wy-component-background-color: var(--wy-surface-variant);--wy-component-color: var(--wy-on-surface-variant)}.wy-button-primary-text{--wy-component-color: var(--wy-primary)}.wy-button-link{padding:0;color:var(--wy-link-color, var(--wy-primary));text-decoration:var(--wy-link-decoration, var(--wy-link-decoration))}.wy-button-link:hover,.wy-button-link:focus{text-decoration:var(--wy-link-hover-decoration, var(--wy-link-hover-decoration))}.wy-buttons{display:flex;align-items:center;flex-wrap:wrap;gap:.5rem}.wy-container{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;font-family:var(--wy-font-family),inherit;font-size:rem(1);line-height:rem(1.5);position:relative;display:flex;flex-direction:column;align-self:stretch;flex:1 1 100%;height:100%;align-items:flex-start;justify-content:flex-start}.wy-container.wy-viewport{position:fixed;z-index:2147483647}.wy-container:not(.wy-viewport)>*{pointer-events:auto}.wy-container iframe{border:none}',""]);const y=d.toString()},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},6:e=>{e.exports="data:image/svg+xml,%3Csvg viewBox=%270 0 24 24%27 width=%2724%27 height=%2724%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27%3E%3Cstyle type=%27text/css%27%3Eg%7Banimation:rotate 2s linear infinite;transform-origin:center center%7Dcircle%7Bstroke-dasharray:1,100;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite%7D@keyframes rotate%7B100%25%7Btransform:rotate%28360deg%29%7D%7D@keyframes dash%7B0%25%7Bstroke-dasharray:1,100;stroke-dashoffset:0%7D50%25%7Bstroke-dasharray:44.5,100;stroke-dashoffset:-17.5px%7D100%25%7Bstroke-dasharray:44.5,100;stroke-dashoffset:-62px%7D%7D@keyframes color%7B0%25,100%25%7Bstroke:%23216eb4%7D40%25%7Bstroke:%2328b7cf%7D66%25%7Bstroke:%23216eb4%7D80%25,90%25%7Bstroke:%2328b7cf%7D%7D%3C/style%3E%3Cg%3E%3Ccircle fill=%27none%27 cx=%2712%27 cy=%2712%27 r=%2711%27 stroke-linecap=%27butt%27 stroke-width=%272%27 /%3E%3C/g%3E%3C/svg%3E"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.b=document.baseURI||self.location.href;var r={};return(()=>{function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var n,r;return!1!==t(e)&&(void 0===(n=e.constructor)||!1!==t(r=n.prototype)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf"))}function a(e,t,n){var r;e=e||{},t=t||{};var i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n&&i[r]&&o(i[r])&&o(t[r])?i[r]=a(i[r],t[r],n):i[r]=t[r]);return i}function i(e){return e&&(Array.isArray(e)?e:[e])||[]}function s(e){if(e){if(e instanceof HTMLElement)return e;if("string"==typeof e)return 0===e.indexOf("<")?function(e){if("content"in document.createElement("template")){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.children}var n=document.implementation.createHTMLDocument();return n.body.innerHTML=e.trim(),n.body.children}(e)[0]:document.querySelector(e);if((t=e)&&t.jquery&&t.length)return console.warn("Weavy: providing jQuery elements is deprecated, please provide a HTMLElement or selector query instead."),e[0]}var t}function l(e,t,n){return(n||"string"==typeof e&&"string"==typeof t)&&String(e).toUpperCase()===String(t).toUpperCase()}function c(e,t){return e&&t&&e.jquery&&t.jquery&&e.jquery===t.jquery&&e.length===t.length&&e.length===e.filter(t).length}function d(e,t,n){if(!o(e)||!o(t))return!1;var r=Object.getOwnPropertyNames(e),a=Object.getOwnPropertyNames(t);if(!n&&r.length!==a.length)return!1;for(var i=0;i<r.length;i++){var s=r[i],l=e[s],u=t[s];if(l!==u&&!c(l,u)&&!d(l,u,n))return!1}return!0}function u(e,t){if(!(t instanceof HTMLElement||t instanceof Node))return t}function y(e,t){if(o(e)){const n={};return Object.keys(e).forEach((function(r){n[function(e,t){return(e=t?e[0].toUpperCase()+e.substring(1):e[0].toLowerCase()+e.substring(1)).replace(/([-_][a-z])/gi,(function(e){return e.toUpperCase().replace("-","").replace("_","")}))}(r,t)]=y(e[r],t)})),n}return Array.isArray(e)?e.map((function(e){return y(e,t)})):e}function h(e){if(e){let t=(e.headers.has("content-type")?e.headers.get("content-type"):"").split(";")[0];if(e.ok){if("application/json"===t)try{return e.json().then((function(e){return y(e)})).catch((function(){return null}))}catch(e){return null}return e}if(t.match(/json$/i))try{return e.json().then((function(e){return y(e)})).then((function(t){return Promise.reject(new Error(t.detail||t.title||t.message||e.statusText||t.status))}),(function(){return Promise.reject(new Error(e.statusText))}))}catch(e){}return Promise.reject(new Error(e.statusText))}}n.d(r,{default:()=>ke});new Map;function p(...e){let t=new Set;return e.forEach((e=>e&&e.split(" ").filter((e=>e)).forEach((e=>t.add(e))))),Array.from(t).join(" ")}const w=function(e){var t=this,n=[];function r(e,t,r,o,a,i){n.push({context:e,events:t,selector:r,handler:o,originalHandler:a,external:i})}function a(e,t,r,o,a,i){var s={context:e,events:t,selector:r,handler:o,originalHandler:a,external:i},l=n.filter((function(e){return d(s,e,!0)})).pop();return l&&l.handler}function i(e,t,r,o,a,i){var s={context:e,events:t,selector:r,handler:o,originalHandler:a,external:i},l=!1;return n.forEach((function(e,t){d(s,e,!0)&&(l=!0,n.splice(t,1))})),l}function l(e,t,r){var o=new CustomEvent(t,{cancelable:!0}),a=!1;return n.forEach((function(n){n.external||n.context!==e||n.events.split(" ").forEach((function(e){if(e=0===e.indexOf("on:")?e.split("on:")[1]:e,t===e&&(!n.selector||d(n.selector,r,!0))){var i=n.handler(o,r);i?r=i:!1===i&&(a=!0)}}))})),!(a||o.cancelBubble||o.defaultPrevented)&&r}function c(n,r){var o,a,i,l,c="string"==typeof r[0]&&r[0];return c?(l="function"==typeof r[1]?r[1]:r[2],i="function"==typeof r[1]?null:r[1],a=r[0],o=t===n?e:n):(l="function"==typeof r[2]?r[2]:r[3],i="function"==typeof r[2]?null:r[2],a=r[1],o=function(t){if(t){if(t.on&&"function"==typeof t.on)return t;var n=s(t);if(n)return n;if(t instanceof EventTarget)return t}return e}(o=r[0])),{context:o,events:a,selector:i,handler:l,external:!c}}this.on=function(e,t,n,a){var s=Array.from(arguments||[]),l=c(this,s),d=s[4];if(d){var u=function(){var e=Array.from(arguments||[]);try{l.handler.apply(this,e)}catch(e){try{l.handler()}catch(e){console.warn("Could not invoke one handler:",e)}}i(l.context,l.events,l.selector,null,l.handler,l.external)};r(l.context,l.events,l.selector,u,l.handler,l.external),l.external&&("string"==typeof l.selector||o(l.selector)?"function"==typeof l.context.one?l.context.one(l.events,l.selector,u):console.warn("external .one() target does not support selectors"):"function"==typeof l.context.one?l.context.one(l.events,u):l.context instanceof EventTarget?l.events.split(" ").forEach((function(e){l.context.addEventListener(e,u,{once:!0})})):console.warn("external target does not have valid event listening"))}else r(l.context,l.events,l.selector,l.handler,l.handler,l.external),l.external&&("string"==typeof l.selector||o(l.selector)?"function"==typeof l.context.one?l.context.on(l.events,l.selector,l.handler):console.warn("external .on() target does not support selectors"):"function"==typeof l.context.on?l.context.on(l.events,l.handler):l.context instanceof EventTarget?l.events.split(" ").forEach((function(e){l.context.addEventListener(e,l.handler)})):console.warn("external target does not have valid event listening"))},this.one=function(e,t,n,r){this.on.call(this,e,t,n,r,!0)},this.off=function(e,t,n,r){var s=c(this,Array.from(arguments||[])),l=a(s.events,s.handler,s.context,s.selector),d=i(s.context,s.events,s.selector,l,s.handler,s.external);d&&l?s.external&&s.context&&("string"==typeof s.selector||o(s.selector)?"function"==typeof s.context.off?s.context.off(s.events,s.selector,l):console.warn("external target does not have valid event listening"):"function"==typeof s.context.off?s.context.off(s.events,l):s.context instanceof EventTarget?s.events.split(" ").forEach((function(e){s.context.removeEventListener(e,l)})):console.warn("external target does not have valid event listening")):console.debug("event off: handler not found or already removed;",s.events)},this.clear=function(){n.forEach((function(e){e.external&&e.context&&("string"==typeof e.selector||o(e.selector)?"function"==typeof e.context.off?e.context.off(e.events,e.selector,e.handler):console.warn("external target does not have valid event listening"):"function"==typeof e.context.off?e.context.off(e.events,e.handler):e.context instanceof EventTarget?e.events.split(" ").forEach((function(t){e.context.removeEventListener(t,e.handler)})):console.warn("external target does not have valid event listening"))})),n.length=0},this.triggerEvent=function(t,n){var r=-1!==t.indexOf(":"),o=t.split(":")[0],a=function(e,t){for(var n=[],r=e;r!==t&&r.eventParent;)n.push(r),r=r.eventParent;return r===t?(n.push(t),n):[e,t]}(this,e),i=a.slice().reverse();this instanceof HTMLElement&&this.isConnected&&console.warn("Triggering event on DOM Node may cause unexpected bubbling:",'"'+t+'"',"<"+this.nodeName.toLowerCase()+(this.id?' id="'+this.id+'" />':" />"));var s,c,d="before:"+(t=t.replace("on:","")),u=t,y="after:"+t;if(n&&"string"==typeof n)try{n=JSON.parse(n)}catch(e){console.warn("Could not parse event data")}if(r){var h="before"===o||"after"===o?i:a;for(c=0;c<h.length;c++)if(!1===(n=(s=l(h[c],u,n))||!1===s?s:n))return n}else{for(c=0;c<i.length;c++)if(!1===(n=(s=l(i[c],d,n))||!1===s?s:n))return n;for(c=0;c<a.length;c++)if(!1===(n=(s=l(a[c],u,n))||!1===s?s:n))return n;for(c=0;c<i.length;c++)n=(s=l(i[c],y,n))||!1===s?s:n}return n}},f=["#36ace2","#6599eb","#646fed","#773bde","#bc4bce","#d54487","#de4b3b","#e17637","#e3a135","#c9a018","#a4c51b","#cbbc15","#7cd345","#53c657","#45d391","#38dde0"],g="#8c8c8c";function v(e,t,n){return t?n?Function.prototype.bind.call(e,console,"%c%s","color: "+n,t):Function.prototype.bind.call(e,console,"%c%s","color: "+g,t):Function.prototype.bind.call(e,console,"%cWeavy","color: "+g)}var m=function(e,t){if(!e)throw new Error("No context defined.");e instanceof URL&&(e=e.pathname.split("/").pop()||e.pathname||e.origin||e.hostname);var n=self.name?self.name+":":"",r=e.type||e.constructor&&e.constructor.name||"",o=e&&e.name?(r?".":"")+e.name:e.id?"#"+e.id:"",a="string"==typeof e?n+e:n+r+o,i=m.defaults,s=Array.from(n).reduce((function(e,t){return e+t.charCodeAt(0)}),0)%f.length,l=f[s],c=g,d=function(){};Object.defineProperty(this,"options",{get:function(){return i},set:function(e){i=Object.assign({},m.defaults,i,e),c=!0===i?l:!1===i.color?g:"string"==typeof i.color?i.color:l;let t=!0===i||i.log,n=!0===i||i.info,r=!0===i||i.warn,o=!0===i||i.error;this.log=t?v(window.console.log,a,c):d,this.debug=t?v(window.console.debug,a,c):d,this.info=n?v(window.console.info,a,c):d,this.warn=r?v(window.console.warn,a,c):d,this.error=o?v(window.console.error,a,c):d,this.assert=o?Function.prototype.bind.call(console.assert,console):d,this.count=t?Function.prototype.bind.call(console.count,console):d,this.countReset=t?Function.prototype.bind.call(console.countReset,console):d,this.dir=t?Function.prototype.bind.call(console.dir,console):d,this.dirxml=t?Function.prototype.bind.call(console.dirxml,console):d,this.table=t?Function.prototype.bind.call(console.table,console):d,this.time=t?Function.prototype.bind.call(console.time,console):d,this.timeEnd=t?Function.prototype.bind.call(console.timeEnd,console):d,this.timeLog=t?Function.prototype.bind.call(console.timeLog,console):d,this.trace=t?Function.prototype.bind.call(console.trace,console):d,this.clear=Function.prototype.bind.call(console.clear,console),this.group=Function.prototype.bind.call(console.group,console),this.groupCollapsed=Function.prototype.bind.call(console.groupCollapsed,console),this.groupEnd=Function.prototype.bind.call(console.groupEnd,console)}}),this.options=t};m.defaults={color:!0,log:!1,info:!0,warn:!0,error:!0};const b=m;window.addEventListener("unhandledrejection",(function(e){e.promise.weavy&&e.preventDefault()}));var I=function(e){var t,n="pending",r=function(){return t};return r.promise=r.bind(r),r.state=function(){return n},(r.reset=function(){var o,a;return n="pending",t=new Promise((function(e,t){o=function(){n="resolved",e.apply(this,arguments)},a=function(){n="rejected",t.apply(this,arguments)}})),t.weavy=!0,r.resolve=function(){return o.apply(t,arguments),r},r.reject=function(){return a.apply(t,arguments),r},"function"==typeof e&&e(o,a),r})(),r.then=function(){return(t=t.then.apply(t,arguments)).weavy=!0,r},r.catch=function(){return(t=t.catch.apply(t,arguments)).weavy=!0,r},r.finally=function(){return(t=t.finally.apply(t,arguments)).weavy=!0,r},r};I.resolve=function(e){var t=I();return t.resolve(e),t},I.reject=function(e){var t=I();return t.reject(e),t};const k=I;const x=new function(t){var n=new b("WeavyPostal"),r=this;this.timeout=t&&t.timeout||2e3;var a=[],i=[],s=new Set,l=new Map,c=new WeakMap,u=new WeakMap,y=new WeakMap,h=new WeakMap,p=new k,w=null,f=g(window.location.href);function g(e){var t=null;try{t=/^((?:https?:\/\/[^/]+)|(?:file:\/\/))\/?/.exec(e)[1]}catch(e){n.error("Unable to resolve location origin. Make sure you are using http, https or file protocol and have a valid location URL.")}return t}function v(e,t){var n=e.source===window&&e.origin===f;if(t||=c.has(e.source)&&e.origin===c.get(e.source),n||t){var r=!e.data.weavyId||!0===e.data.weavyId;t&&!e.data.windowName&&(e.data.windowName=u.get(e.source));var a=e.data.name;if("distribute"===a){if(w)return;e.data.name=e.data.distributeName}i.forEach((function(t){var n=t.name===a||"message"===t.name,i=null===t.selector,s=t.selector===e.data.weavyId,l=o(t.selector)&&d(t.selector,e.data,!0);n&&(r||i||s||l)&&(t.handler(e,e.data),t.once&&I(t.name,t.selector,t.handler))}))}}function m(e,t,n){"function"==typeof arguments[1]&&(n=arguments[1],t=null),i.push({name:e,handler:n,selector:t})}function I(e,t,n){"function"==typeof arguments[1]&&(n=arguments[1],t=null),i=i.filter((function(r){var a=e===r.name,i=n===r.handler,s="string"==typeof t&&t===r.selector,l=o(t)&&d(t,r.selector);return!(a&&i&&(null===t||s||l))}))}function x(e,t){if(l.has(t)){if(l.get(t).has(e)){var n=l.get(t).get(e);try{s.delete(n),u.delete(n),y.delete(n),c.delete(n)}catch(e){}}if(l.get(t).delete(e),0===l.get(t).size)try{l.delete(t)}catch(e){}}}function E(t,o,a){var i=new k;null===a&&(a=void 0);var s=t===window.self,l=s?g(window.location.href):c.get(t);return s||t&&l===h.get(t)?(o.weavyMessageId||(o.weavyMessageId=e()+e()),queueMicrotask((()=>{n.debug("whenPostMessage",o.name,o.weavyMessageId);var e=setTimeout((function(){"pending"===i.state()&&i.reject(new Error("postMessage() receipt timed out: "+o.weavyMessageId+", "+o.name))}),r.timeout||2e3);m("message-receipt",{weavyId:o.weavyId,weavyMessageId:o.weavyMessageId},(function(){n.debug("message-receipt received",o.weavyMessageId,o.name),clearTimeout(e),i.resolve()}));try{t.postMessage(o,l,a)}catch(e){i.reject(e)}}))):i.reject(new Error("postMessage() Invalid window origin: "+l+", "+o.name)),i()}window.addEventListener("message",(function(e){if(e.data.name&&void 0!==e.data.weavyId){if(e.data.weavyMessageId&&"message-receipt"!==e.data.name&&"unready"!==e.data.name){n.debug("sending message receipt",e.data.weavyMessageId,e.data.name);try{e.source.postMessage({name:"message-receipt",weavyId:e.data.weavyId,weavyMessageId:e.data.weavyMessageId},e.origin)}catch(e){n.error("could not post back message-receipt to source")}}switch(e.data.name){case"register-child":if(y.has(e.source)||n.warn("register-child: contentwindow not pre-registered"),c.get(e.source)!==e.origin)return void n.error("register-child: "+u.get(e.source)+" has invalid origin",e.origin);try{var t=y.get(e.source),r=u.get(e.source);r&&e.source.postMessage({name:"register-window",windowName:r,weavyId:t||!0},e.origin)}catch(e){n.error("could not register frame window",t,r,e)}break;case"ready":l.has(e.data.weavyId)&&u.has(e.source)&&l.get(e.data.weavyId).get(u.get(e.source))&&(h.set(e.source,e.origin),v(e));break;case"unready":l.has(e.data.weavyId)&&v(e,!0);break;default:e.source===window||l.size?v(e):a.push(e)}}})),this.on=m,this.one=function(e,t,n){"function"==typeof arguments[1]&&(n=arguments[1],t=null),i.push({name:e,handler:n,selector:t,once:!0})},this.off=I,this.registerContentWindow=function(e,t,r,o){try{if(!t)return void n.error("registerContentWindow() No valid contentWindow to register, must be a window and have a name.")}catch(e){n.error("registerContentWindow() cannot access contentWindowName")}e.self&&(e=e.self),r&&"true"!==r||(r=!0),l.has(r)||l.set(r,new Map),l.get(r).set(t,e),s.add(e),u.set(e,t),y.set(e,r),c.set(e,o)},this.unregisterContentWindow=x,this.unregisterAll=function(e){l.has(e)&&(l.get(e).forEach((function(t,n){x(n,e)})),l.get(e),l.delete(e))},this.postToFrame=function(e,t,r,o){if("object"==typeof r&&r.name){var a;try{a=l.get(t).get(e)}catch(r){n.error("postToFrame() Window not registered",t,e)}return r.weavyId=t,E(a,r,o)}n.error("postToFrame() Invalid message format",r)},this.postToSelf=function(e,t){if("object"==typeof e&&e.name)return e.weavyId=e.weavyId||!0,E(window.self,e,t);n.error("postToSelf() Invalid message format",e)},this.postToSource=function(e,t,r){if(e.source&&void 0!==e.data.weavyId){var o=e.source===window.self&&e.origin===f,a=c.has(e.source)&&e.origin===c.get(e.source);if(null===r&&(r=void 0),o||a){t.weavyId=e.data.weavyId;try{e.source.postMessage(t,e.origin,r)}catch(e){n.error("postToSource() Could not post message back to source")}}}},this.postToChildren=function(e,t){"object"==typeof e&&e.name?(null===t&&(t=void 0),e.distributeName=e.name,e.name="distribute",e.weavyId=e.weavyId||!0,s.forEach((function(r){if(c.get(r)===h.get(r))try{r.postMessage(e,c.get(r),t)}catch(e){n.warn("postToChildren() could not distribute message to "+u.get(r))}}))):n.error("postToChildren() Invalid message format",e)},this.whenLeader=function(){return p()},Object.defineProperty(this,"isLeader",{get:function(){return w}}),"pending"===p.state()&&(n.debug("Is leader"),w=!0,p.resolve(w))};var E=n(497),S=n(621);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function C(e){return e<0?-1:0===e?0:1}function M(e,t,n){return(1-n)*e+n*t}function P(e){return(e%=360)<0&&(e+=360),e}function L(e,t){return[e[0]*t[0][0]+e[1]*t[0][1]+e[2]*t[0][2],e[0]*t[1][0]+e[1]*t[1][1]+e[2]*t[1][2],e[0]*t[2][0]+e[1]*t[2][1]+e[2]*t[2][2]]}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const O=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],A=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],j=[95.047,100,108.883];function R(e,t,n){return(255<<24|(255&e)<<16|(255&t)<<8|255&n)>>>0}function T(e){return R(q(e[0]),q(e[1]),q(e[2]))}function N(e){return e>>16&255}function z(e){return e>>8&255}function F(e){return 255&e}function U(e,t,n){const r=A,o=r[0][0]*e+r[0][1]*t+r[0][2]*n,a=r[1][0]*e+r[1][1]*t+r[1][2]*n,i=r[2][0]*e+r[2][1]*t+r[2][2]*n;return R(q(o),q(a),q(i))}function B(e){const t=function(e){return L([H(N(e)),H(z(e)),H(F(e))],O)}(e)[1];return 116*W(t/100)-16}function D(e){return 100*_((e+16)/116)}function H(e){const t=e/255;return t<=.040449936?t/12.92*100:100*Math.pow((t+.055)/1.055,2.4)}function q(e){const t=e/100;let n=0;return n=t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,r=0,o=255,(a=Math.round(255*n))<r?r:a>o?o:a;var r,o,a}function W(e){return e>216/24389?Math.pow(e,1/3):(903.2962962962963*e+16)/116}function _(e){const t=e*e*e;return t>216/24389?t:(116*e-16)/903.2962962962963}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ${constructor(e,t,n,r,o,a,i,s,l,c){this.n=e,this.aw=t,this.nbb=n,this.ncb=r,this.c=o,this.nc=a,this.rgbD=i,this.fl=s,this.fLRoot=l,this.z=c}static make(e=function(){return j}(),t=200/Math.PI*D(50)/100,n=50,r=2,o=!1){const a=e,i=.401288*a[0]+.650173*a[1]+-.051461*a[2],s=-.250268*a[0]+1.204414*a[1]+.045854*a[2],l=-.002079*a[0]+.048952*a[1]+.953127*a[2],c=.8+r/10,d=c>=.9?M(.59,.69,10*(c-.9)):M(.525,.59,10*(c-.8));let u=o?1:c*(1-1/3.6*Math.exp((-t-42)/92));u=u>1?1:u<0?0:u;const y=c,h=[u*(100/i)+1-u,u*(100/s)+1-u,u*(100/l)+1-u],p=1/(5*t+1),w=p*p*p*p,f=1-w,g=w*t+.1*f*f*Math.cbrt(5*t),v=D(n)/e[1],m=1.48+Math.sqrt(v),b=.725/Math.pow(v,.2),I=b,k=[Math.pow(g*h[0]*i/100,.42),Math.pow(g*h[1]*s/100,.42),Math.pow(g*h[2]*l/100,.42)],x=[400*k[0]/(k[0]+27.13),400*k[1]/(k[1]+27.13),400*k[2]/(k[2]+27.13)];return new $(v,(2*x[0]+x[1]+.05*x[2])*b,b,I,d,y,h,g,Math.pow(g,.25),m)}}$.DEFAULT=$.make();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class V{constructor(e,t,n,r,o,a,i,s,l){this.hue=e,this.chroma=t,this.j=n,this.q=r,this.m=o,this.s=a,this.jstar=i,this.astar=s,this.bstar=l}distance(e){const t=this.jstar-e.jstar,n=this.astar-e.astar,r=this.bstar-e.bstar,o=Math.sqrt(t*t+n*n+r*r);return 1.41*Math.pow(o,.63)}static fromInt(e){return V.fromIntInViewingConditions(e,$.DEFAULT)}static fromIntInViewingConditions(e,t){const n=(65280&e)>>8,r=255&e,o=H((16711680&e)>>16),a=H(n),i=H(r),s=.41233895*o+.35762064*a+.18051042*i,l=.2126*o+.7152*a+.0722*i,c=.01932141*o+.11916382*a+.95034478*i,d=.401288*s+.650173*l-.051461*c,u=-.250268*s+1.204414*l+.045854*c,y=-.002079*s+.048952*l+.953127*c,h=t.rgbD[0]*d,p=t.rgbD[1]*u,w=t.rgbD[2]*y,f=Math.pow(t.fl*Math.abs(h)/100,.42),g=Math.pow(t.fl*Math.abs(p)/100,.42),v=Math.pow(t.fl*Math.abs(w)/100,.42),m=400*C(h)*f/(f+27.13),b=400*C(p)*g/(g+27.13),I=400*C(w)*v/(v+27.13),k=(11*m+-12*b+I)/11,x=(m+b-2*I)/9,E=(20*m+20*b+21*I)/20,S=(40*m+20*b+I)/20,M=180*Math.atan2(x,k)/Math.PI,P=M<0?M+360:M>=360?M-360:M,L=P*Math.PI/180,O=S*t.nbb,A=100*Math.pow(O/t.aw,t.c*t.z),j=4/t.c*Math.sqrt(A/100)*(t.aw+4)*t.fLRoot,R=P<20.14?P+360:P,T=5e4/13*(.25*(Math.cos(R*Math.PI/180+2)+3.8))*t.nc*t.ncb*Math.sqrt(k*k+x*x)/(E+.305),N=Math.pow(T,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),z=N*Math.sqrt(A/100),F=z*t.fLRoot,U=50*Math.sqrt(N*t.c/(t.aw+4)),B=(1+100*.007)*A/(1+.007*A),D=1/.0228*Math.log(1+.0228*F),q=D*Math.cos(L),W=D*Math.sin(L);return new V(P,z,A,j,F,U,B,q,W)}static fromJch(e,t,n){return V.fromJchInViewingConditions(e,t,n,$.DEFAULT)}static fromJchInViewingConditions(e,t,n,r){const o=4/r.c*Math.sqrt(e/100)*(r.aw+4)*r.fLRoot,a=t*r.fLRoot,i=t/Math.sqrt(e/100),s=50*Math.sqrt(i*r.c/(r.aw+4)),l=n*Math.PI/180,c=(1+100*.007)*e/(1+.007*e),d=1/.0228*Math.log(1+.0228*a),u=d*Math.cos(l),y=d*Math.sin(l);return new V(n,t,e,o,a,s,c,u,y)}static fromUcs(e,t,n){return V.fromUcsInViewingConditions(e,t,n,$.DEFAULT)}static fromUcsInViewingConditions(e,t,n,r){const o=t,a=n,i=Math.sqrt(o*o+a*a),s=(Math.exp(.0228*i)-1)/.0228/r.fLRoot;let l=Math.atan2(a,o)*(180/Math.PI);l<0&&(l+=360);const c=e/(1-.007*(e-100));return V.fromJchInViewingConditions(c,s,l,r)}toInt(){return this.viewed($.DEFAULT)}viewed(e){const t=0===this.chroma||0===this.j?0:this.chroma/Math.sqrt(this.j/100),n=Math.pow(t/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),r=this.hue*Math.PI/180,o=.25*(Math.cos(r+2)+3.8),a=e.aw*Math.pow(this.j/100,1/e.c/e.z),i=o*(5e4/13)*e.nc*e.ncb,s=a/e.nbb,l=Math.sin(r),c=Math.cos(r),d=23*(s+.305)*n/(23*i+11*n*c+108*n*l),u=d*c,y=d*l,h=(460*s+451*u+288*y)/1403,p=(460*s-891*u-261*y)/1403,w=(460*s-220*u-6300*y)/1403,f=Math.max(0,27.13*Math.abs(h)/(400-Math.abs(h))),g=C(h)*(100/e.fl)*Math.pow(f,1/.42),v=Math.max(0,27.13*Math.abs(p)/(400-Math.abs(p))),m=C(p)*(100/e.fl)*Math.pow(v,1/.42),b=Math.max(0,27.13*Math.abs(w)/(400-Math.abs(w))),I=C(w)*(100/e.fl)*Math.pow(b,1/.42),k=g/e.rgbD[0],x=m/e.rgbD[1],E=I/e.rgbD[2];return U(1.86206786*k-1.01125463*x+.14918677*E,.38752654*k+.62144744*x-.00897398*E,-.0158415*k-.03412294*x+1.04996444*E)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class G{static sanitizeRadians(e){return(e+8*Math.PI)%(2*Math.PI)}static trueDelinearized(e){const t=e/100;let n=0;return n=t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,255*n}static chromaticAdaptation(e){const t=Math.pow(Math.abs(e),.42);return 400*C(e)*t/(t+27.13)}static hueOf(e){const t=L(e,G.SCALED_DISCOUNT_FROM_LINRGB),n=G.chromaticAdaptation(t[0]),r=G.chromaticAdaptation(t[1]),o=G.chromaticAdaptation(t[2]),a=(11*n+-12*r+o)/11,i=(n+r-2*o)/9;return Math.atan2(i,a)}static areInCyclicOrder(e,t,n){return G.sanitizeRadians(t-e)<G.sanitizeRadians(n-e)}static intercept(e,t,n){return(t-e)/(n-e)}static lerpPoint(e,t,n){return[e[0]+(n[0]-e[0])*t,e[1]+(n[1]-e[1])*t,e[2]+(n[2]-e[2])*t]}static setCoordinate(e,t,n,r){const o=G.intercept(e[r],t,n[r]);return G.lerpPoint(e,o,n)}static isBounded(e){return 0<=e&&e<=100}static nthVertex(e,t){const n=G.Y_FROM_LINRGB[0],r=G.Y_FROM_LINRGB[1],o=G.Y_FROM_LINRGB[2],a=t%4<=1?0:100,i=t%2==0?0:100;if(t<4){const t=a,s=i,l=(e-t*r-s*o)/n;return G.isBounded(l)?[l,t,s]:[-1,-1,-1]}if(t<8){const t=a,s=i,l=(e-s*n-t*o)/r;return G.isBounded(l)?[s,l,t]:[-1,-1,-1]}{const t=a,s=i,l=(e-t*n-s*r)/o;return G.isBounded(l)?[t,s,l]:[-1,-1,-1]}}static bisectToSegment(e,t){let n=[-1,-1,-1],r=n,o=0,a=0,i=!1,s=!0;for(let l=0;l<12;l++){const c=G.nthVertex(e,l);if(c[0]<0)continue;const d=G.hueOf(c);i?(s||G.areInCyclicOrder(o,d,a))&&(s=!1,G.areInCyclicOrder(o,t,d)?(r=c,a=d):(n=c,o=d)):(n=c,r=c,o=d,a=d,i=!0)}return[n,r]}static midpoint(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2,(e[2]+t[2])/2]}static criticalPlaneBelow(e){return Math.floor(e-.5)}static criticalPlaneAbove(e){return Math.ceil(e-.5)}static bisectToLimit(e,t){const n=G.bisectToSegment(e,t);let r=n[0],o=G.hueOf(r),a=n[1];for(let e=0;e<3;e++)if(r[e]!==a[e]){let n=-1,i=255;r[e]<a[e]?(n=G.criticalPlaneBelow(G.trueDelinearized(r[e])),i=G.criticalPlaneAbove(G.trueDelinearized(a[e]))):(n=G.criticalPlaneAbove(G.trueDelinearized(r[e])),i=G.criticalPlaneBelow(G.trueDelinearized(a[e])));for(let s=0;s<8&&!(Math.abs(i-n)<=1);s++){const s=Math.floor((n+i)/2),l=G.CRITICAL_PLANES[s],c=G.setCoordinate(r,l,a,e),d=G.hueOf(c);G.areInCyclicOrder(o,t,d)?(a=c,i=s):(r=c,o=d,n=s)}}return G.midpoint(r,a)}static inverseChromaticAdaptation(e){const t=Math.abs(e),n=Math.max(0,27.13*t/(400-t));return C(e)*Math.pow(n,1/.42)}static findResultByJ(e,t,n){let r=11*Math.sqrt(n);const o=$.DEFAULT,a=1/Math.pow(1.64-Math.pow(.29,o.n),.73),i=.25*(Math.cos(e+2)+3.8)*(5e4/13)*o.nc*o.ncb,s=Math.sin(e),l=Math.cos(e);for(let e=0;e<5;e++){const c=r/100,d=0===t||0===r?0:t/Math.sqrt(c),u=Math.pow(d*a,1/.9),y=o.aw*Math.pow(c,1/o.c/o.z)/o.nbb,h=23*(y+.305)*u/(23*i+11*u*l+108*u*s),p=h*l,w=h*s,f=(460*y+451*p+288*w)/1403,g=(460*y-891*p-261*w)/1403,v=(460*y-220*p-6300*w)/1403,m=L([G.inverseChromaticAdaptation(f),G.inverseChromaticAdaptation(g),G.inverseChromaticAdaptation(v)],G.LINRGB_FROM_SCALED_DISCOUNT);if(m[0]<0||m[1]<0||m[2]<0)return 0;const b=G.Y_FROM_LINRGB[0],I=G.Y_FROM_LINRGB[1],k=G.Y_FROM_LINRGB[2],x=b*m[0]+I*m[1]+k*m[2];if(x<=0)return 0;if(4===e||Math.abs(x-n)<.002)return m[0]>100.01||m[1]>100.01||m[2]>100.01?0:T(m);r-=(x-n)*r/(2*x)}return 0}static solveToInt(e,t,n){if(t<1e-4||n<1e-4||n>99.9999)return function(e){const t=q(D(e));return R(t,t,t)}(n);const r=(e=P(e))/180*Math.PI,o=D(n),a=G.findResultByJ(r,t,o);if(0!==a)return a;return T(G.bisectToLimit(o,r))}static solveToCam(e,t,n){return V.fromInt(G.solveToInt(e,t,n))}}G.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]],G.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]],G.Y_FROM_LINRGB=[.2126,.7152,.0722],G.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class J{constructor(e){this.argb=e;const t=V.fromInt(e);this.internalHue=t.hue,this.internalChroma=t.chroma,this.internalTone=B(e),this.argb=e}static from(e,t,n){return new J(G.solveToInt(e,t,n))}static fromInt(e){return new J(e)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(e){this.setInternalState(G.solveToInt(e,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(e){this.setInternalState(G.solveToInt(this.internalHue,e,this.internalTone))}get tone(){return this.internalTone}set tone(e){this.setInternalState(G.solveToInt(this.internalHue,this.internalChroma,e))}setInternalState(e){const t=V.fromInt(e);this.internalHue=t.hue,this.internalChroma=t.chroma,this.internalTone=B(e),this.argb=e}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Z{constructor(e,t){this.hue=e,this.chroma=t,this.cache=new Map}static fromInt(e){const t=J.fromInt(e);return Z.fromHueAndChroma(t.hue,t.chroma)}static fromHueAndChroma(e,t){return new Z(e,t)}tone(e){let t=this.cache.get(e);return void 0===t&&(t=J.from(this.hue,this.chroma,e).toInt(),this.cache.set(e,t)),t}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Y=e=>{const t=N(e),n=z(e),r=F(e),o=[t.toString(16),n.toString(16),r.toString(16)];for(const[e,t]of o.entries())1===t.length&&(o[e]="0"+t);return"#"+o.join("")};function X(e){return parseInt(e,16)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Q{static harmonize(e,t){const n=J.fromInt(e),r=J.fromInt(t),o=(a=n.hue,i=r.hue,180-Math.abs(Math.abs(a-i)-180));var a,i;const s=Math.min(.5*o,15),l=P(n.hue+s*(c=n.hue,P(r.hue-c)<=180?1:-1));var c;return J.from(l,n.chroma,n.tone).toInt()}static hctHue(e,t,n){const r=Q.cam16Ucs(e,t,n),o=V.fromInt(r),a=V.fromInt(e);return J.from(o.hue,a.chroma,B(e)).toInt()}static cam16Ucs(e,t,n){const r=V.fromInt(e),o=V.fromInt(t),a=r.jstar,i=r.astar,s=r.bstar,l=a+(o.jstar-a)*n,c=i+(o.astar-i)*n,d=s+(o.bstar-s)*n;return V.fromUcs(l,c,d).toInt()}}function K(e,t){if(te.supportsConstructableStylesheets){let n=new CSSStyleSheet;return t&&ee(n,t),e.adoptedStyleSheets=Array.prototype.concat.call(e.adoptedStyleSheets,[n]),n}{let n=document.createElement("style");return n.dataset.weavy=!0,t&&ee(n,t),(e===document?document.head:e).appendChild(n),n}}function ee(e,t){te.supportsConstructableStylesheets?e.replaceSync(t):e.replaceChildren(document.createTextNode(t))}class te{static supportsConstructableStylesheets="adoptedStyleSheets"in document;#e;#t;#n;#r;#o;#a;#i;#s;#l;constructor(e,t,n){this.#t=e,this.eventParent=n,this.on=e.events.on.bind(this),this.one=e.events.one.bind(this),this.off=e.events.off.bind(this),this.triggerEvent=e.events.triggerEvent.bind(this),this.root=t,this.#i="",this.#l={},this.#s=[],e.options.includeStyles&&this.#c(),this.updateStyles(),e.on("update-css",this.updateStyles.bind(this))}updateStyles(){this.#t.log("Updating styles"),this.triggerEvent("before:root-styles"),this.#t.options.includeFont&&this.#d(),this.#u(),this.#y(),this.#t.options.includeThemeColor&&this.#h(),this.triggerEvent("on:root-styles"),this.#p(this.id,"Some stylesheets could not be processed"),this.triggerEvent("after:root-styles")}#c(){this.#e||(this.#e=K(this.root.dom,S.Z))}#d(){let e=this.root.parent===document.documentElement,t=e?document.body:this.root.parent;if(this.#r=getComputedStyle(t).fontFamily,e&&this.#r){this.#t.debug("Setting root font.");let e=`:host > * {--wy-font-family:${this.#r}; font-family: var(--wy-font-family); }`;this.#l.font??=K(this.root.dom),ee(this.#l.font,e)}}#h(){var e;let t=[...(this.#t.css+this.#i).matchAll(/--wy-theme-color\s*:\s*(#[a-f\d]{6});/gi)]?.pop();if(t&&(this.#t.debug("Found theme color in custom css.",t),e=t[1]),!e){let t=this.root.parent===document.documentElement?document.body:this.root.parent;e=getComputedStyle(t).getPropertyValue("--wy-theme-color")}if(!e){e=Array.from(document.head.querySelectorAll("meta[name='theme-color']")).filter((e=>{let t=e.getAttribute("media");return!t||window.matchMedia(t)?.matches})).pop()?.getAttribute("content")}this.#o=e}#u(){this.#n="",this.#a="";for(var e=[],t={parentElement:this.root.parent};t=t.parentElement;)for(var n of t.style)n.startsWith("--wy-")&&e.push(n);for(let t of document.styleSheets)try{if(!t.ownerNode?.dataset.weavy&&t instanceof CSSStyleSheet&&t.cssRules)for(let n of t.cssRules)if(!n.parentRule&&(n.cssText.includes(".wy-")&&(this.#t.debug("Found external rule",n.cssText),this.#n+=n.cssText+"\n"),n.cssText.includes("--wy-")))for(let t of n.style)t.startsWith("--wy-")&&e.push(t)}catch(e){this.#s.push({name:t.href||t.ownerNode.nodeName,error:e.toString()})}let r=getComputedStyle(this.root.parent);e.forEach((e=>{let t=r.getPropertyValue(e);if(t){let n=`${e}:${t};`;this.#t.debug("Found external custom property",n),this.#a+=n}})),this.#l.external??=K(this.root.dom),ee(this.#l.external,this.#n)}#y(){this.#l.weavy??=K(this.root.dom),ee(this.#l.weavy,this.#t.css)}get css(){return this.#i}set css(e){this.#i=e,this.triggerEvent("before:root-styles"),this.#h(),this.#l.custom??=K(this.root.dom),ee(this.#l.custom,e),this.triggerEvent("on:root-styles"),this.triggerEvent("after:root-styles"),this.#p(this.id,"Some stylesheets could not be processed")}getAllCSS(){var e=this.#r?`:root{--wy-font-family:${this.#r};}`:"",t=this.#a?`:root{${this.#a}}`:"",n="";if(this.#o){let e=[];e.push(`--wy-theme-color:${this.#o};`);let t=(e=>{const t=3===(e=e.replace("#","")).length,n=6===e.length,r=8===e.length;if(!t&&!n&&!r)throw new Error("unexpected hex "+e);let o=0,a=0,i=0;return t?(o=X(e.slice(0,1).repeat(2)),a=X(e.slice(1,2).repeat(2)),i=X(e.slice(2,3).repeat(2))):n?(o=X(e.slice(0,2)),a=X(e.slice(2,4)),i=X(e.slice(4,6))):r&&(o=X(e.slice(2,4)),a=X(e.slice(4,6)),i=X(e.slice(6,8))),(255<<24|(255&o)<<16|(255&a)<<8|255&i)>>>0})(this.#o);const r=J.fromInt(t),o=r.hue,a=r.chroma,i=Math.max(48,a),s=Math.min(i,84),l=360/16,c=27.4,d=-8,u=(o+360-c-d+l/2)%l+c+d-l/2;let y={primary:Z.fromHueAndChroma(o,i),secondary:Z.fromHueAndChroma(o,i/3),tertiary:Z.fromHueAndChroma(o+60,i/2),neutral:Z.fromHueAndChroma(o,Math.min(a/12,4)),"neutral-variant":Z.fromHueAndChroma(o,Math.min(a/6,8)),error:Z.fromHueAndChroma(u,84),red:Z.fromHueAndChroma(u,s),"deep-orange":Z.fromHueAndChroma(u+1*l,s),orange:Z.fromHueAndChroma(u+2*l,s),amber:Z.fromHueAndChroma(u+3*l,s),yellow:Z.fromHueAndChroma(u+4*l,s),lime:Z.fromHueAndChroma(u+5*l,s),"light-green":Z.fromHueAndChroma(u+6*l,s),green:Z.fromHueAndChroma(u+7*l,s),teal:Z.fromHueAndChroma(u+8*l,s),cyan:Z.fromHueAndChroma(u+9*l,s),"light-blue":Z.fromHueAndChroma(u+10*l,s),blue:Z.fromHueAndChroma(u+11*l,s),indigo:Z.fromHueAndChroma(u+12*l,s),"deep-purple":Z.fromHueAndChroma(u+13*l,s),purple:Z.fromHueAndChroma(u+14*l,s),pink:Z.fromHueAndChroma(u+15*l,s),gray:Z.fromHueAndChroma(o,4)},h={99:99,95:95,90:90,80:80,70:70,60:60,50:50,40:40,30:30,20:20,10:10},p={primary:h,secondary:h,tertiary:h,neutral:h,"neutral-variant":h,error:h,blue:{light:70,dark:80},indigo:{light:60,dark:60},purple:{light:60,dark:70},pink:{light:60,dark:70},red:{light:60,dark:60},orange:{light:70,dark:70},yellow:{light:80,dark:80},green:{light:60,dark:60},teal:{light:60,dark:60},cyan:{light:50,dark:60},gray:{light:50,dark:60}};this.#t.debug("theme color",this.#o);for(let t in p){let n=p[t];for(let r in n){let o=Y(y[t].tone(n[r]));e.push(`--wy-${t}-${r}:${o};`)}}let w={light:y.primary.tone(40),dark:y.primary.tone(80)},f={light:y.neutral.tone(99),dark:y.neutral.tone(10)},g={"surface-1":{light:Q.cam16Ucs(f.light,w.light,.05),dark:Q.cam16Ucs(f.dark,w.dark,.05)},"surface-2":{light:Q.cam16Ucs(f.light,w.light,.08),dark:Q.cam16Ucs(f.dark,w.dark,.08)},"surface-3":{light:Q.cam16Ucs(f.light,w.light,.11),dark:Q.cam16Ucs(f.dark,w.dark,.11)},"surface-4":{light:Q.cam16Ucs(f.light,w.light,.12),dark:Q.cam16Ucs(f.dark,w.dark,.12)},"surface-5":{light:Q.cam16Ucs(f.light,w.light,.14),dark:Q.cam16Ucs(f.dark,w.dark,.14)}};for(let t in g){let n=g[t];for(let r in n){let o=Y(n[r]);e.push(`--wy-${t}-${r}:${o};`)}}n=`:root{${e.join("")}}`}let r=[e,n,this.#n,t,this.#t.css,this.#i].join("\n"),o=[];return r=r.replace(/@import\s+\S*;?/gm,(e=>(o.push(e),""))),r=o.join("\n")+r,r}#p(...e){this.#s.length&&(this.#t.error(...e),this.#s.forEach((e=>this.#t.warn(e.name.toString(),e.error.toString()))),this.#s=[])}remove(){this.triggerEvent("before:root-remove",this),this.section&&(this.section.remove(),this.section=null),this.triggerEvent("on:root-remove",this),this.triggerEvent("after:root-remove",this)}}const ne=te;class re{static supportsShadowDOM=!!HTMLElement.prototype.attachShadow;static globalStyleSheet;id;#w;parent;section;root;dom;container;static registerCustomElements(){if(!re.globalStyleSheet){if("customElements"in window)try{window.customElements.define("weavy-root",HTMLElement.prototype),window.customElements.define("weavy-container",HTMLElement.prototype)}catch(e){}re.globalStyleSheet=K(document,E.Z)}}constructor(e,t,n,r){if(this.#w=e.removeId(n),this.id=e.getId(n),this.parent=s(t),!this.parent)throw new Error("No parent container defined"+this.id);this.eventParent=r,this.on=e.events.on.bind(this),this.one=e.events.one.bind(this),this.off=e.events.off.bind(this),this.triggerEvent=e.events.triggerEvent.bind(this),re.registerCustomElements(),this.section=document.createElement("weavy"),this.section.id=this.id,this.root=document.createElement("weavy-root"),this.root.setAttribute("data-version",e.version),this.container=document.createElement("weavy-container"),this.container.className="wy-container",this.container.id=e.getId("container-"+this.#w);var o="";Object.defineProperty(this,"className",{get:function(){return o},set:function(e){o=e,this.updateClassName()}}),this.updateClassName=function(){this.container.className=["wy-container",e.className,this.className].filter((e=>e)).join(" ")},this.triggerEvent("before:root-create",this),this.parent.appendChild(this.section),this.section.appendChild(this.root),re.supportsShadowDOM?("open"===e.options.shadowMode&&e.warn(this.id,"Using ShadowDOM in open mode",this.id),this.dom=this.root.attachShadow({mode:e.options.shadowMode||"closed"})):this.dom=this.root,this.dom.appendChild(this.container),this.styles=new ne(e,this,this),this.updateClassName(),e.on("update-class-name",this.updateClassName.bind(this)),this.triggerEvent("on:root-create",this),queueMicrotask((()=>this.triggerEvent("after:root-create",this)))}remove(){this.triggerEvent("before:root-remove",this),this.section&&(this.section.remove(),this.section=null),this.triggerEvent("on:root-remove",this),this.triggerEvent("after:root-remove",this)}}const oe=re;var ae=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),ie=function(e,t,n,r,i,s){if(r){var l=[];e.debug("creating panel",r);var c=e.getId("panel-container-"+r);o(s)||(s={});var d=function(t){var n=document.createElement("iframe");return n.className="wy-panel-frame",n.id=e.getId("panel-"+r),n.name=e.getId("panel-"+r),n.allowFullscreen=1,n.dataset.weavyId=e.getId(),t&&(n.dataset.src=new URL(t,e.url).href),n},u=this;u.panelId=r,u.attributes=s,u.root=n.root,u.node=document.createElement("div"),u.node.className="wy-panel",s.className&&(u.node.classList.add(...s.className.split(" ")),u.className=s.className),u.node.id=c,u.node.dataset.id=r,s.title&&(u.node.dataset.title=s.title),u.frame=d(i),u.node.appendChild(u.frame),u.node.frame=u.frame,u.eventParent=n,u.on=e.events.on.bind(u),u.one=e.events.one.bind(u),u.off=e.events.off.bind(u),u.triggerEvent=e.events.triggerEvent.bind(u),u.frame.dataset.src&&(u.location=new URL(u.frame.dataset.src,e.url).href),s.type&&(u.node.dataset.type=s.type),void 0!==s.persistent&&(u.node.dataset.persistent=String(s.persistent)),void 0!==s.preload&&(u.node.dataset.preload=String(s.preload));try{e.debug("Appending panel",r),n.node.appendChild(u.node),t.set(r,u)}catch(t){e.error("Could not append panel",r)}s.origin?u.origin=s.origin:u.origin=i?new URL(i,e.url).origin:e.url.origin,n.origins.has(u.origin)||e.error("Panel has invalid origin",u.frame.name);var y=!1,h=!1,p=!1,w=!1;u.loadingStarted=function(e){e&&(p=!1),w=!0,v(u)},u.loadingFinished=function(){p=!0,w=!1,v(u)},u.on("panel-loading",(function(e,t){requestAnimationFrame((()=>{t.isLoading?u.node.classList.add("wy-loading"):u.node.classList.remove("wy-loading"),t.isLoaded?u.node.classList.add("wy-loaded"):u.node.classList.remove("wy-loaded")}))})),Object.defineProperty(u,"isOpen",{get:function(){return u.node.classList.contains("wy-open")}}),Object.defineProperty(u,"isLoading",{get:function(){return w}}),Object.defineProperty(u,"isRegistered",{get:function(){return y}}),Object.defineProperty(u,"isReady",{get:function(){return h}}),Object.defineProperty(u,"isLoaded",{get:function(){return p}}),u.whenReady=new k;var f=function(t,n){h=!0,u.triggerEvent("before:panel-ready",{panelId:r});var o=u.location,a=u.statusCode,i=!n.statusCode||200===n.statusCode;u.location=new URL(n.location,e.url).href,u.statusCode=n.statusCode,"string"==typeof n.title&&n.title&&(u.node.dataset.title=n.title),u.loadingFinished(),a===n.statusCode||i||e.warn(n.location+" "+n.statusCode+" "+n.statusDescription);var s=o&&o!==u.location,l=a!==u.statusCode,c=u.location===u.frame.dataset.src&&!u.isOpen;u.isOpen&&(s||l)&&(s&&i&&!c?u.stateChangedAt=Date.now():i&&!c||(u.stateChangedAt=null),e.history.addState("replace")),u.triggerEvent("on:panel-ready",{panelId:r}),u.whenReady.resolve(u),u.triggerEvent("after:panel-ready",{panelId:r})},g=function(){u.triggerEvent("before:panel-unready",{panelId:r}),h=!1,u.loadingStarted(!0),u.whenReady.reset(),u.triggerEvent("on:panel-unready",{panelId:r}),u.triggerEvent("after:panel-unready",{panelId:r})};e.on(x,"ready",{weavyId:e.getId(),windowName:u.frame.name},f),e.on(x,"unready",{weavyId:e.getId(),windowName:u.frame.name},g);return u.whenLoaded=new k,e.on(x,"load",{weavyId:e.getId(),windowName:u.frame.name},(function(){u.whenLoaded.resolve(u)})),u.whenClosed=k.resolve(),u.focus=function(e){if(e)u.node.focus();else try{u.frame.contentWindow.focus()}catch(e){u.frame.focus()}},u.open=function(t,r){return e.whenReady().then((function(){if(e.log("openPanel",u.panelId+(t?" "+t:""),r?"no history":"with history"),!u.node.dataset.persistent&&!e.authentication.isAuthorized())return Promise.reject(new Error("Unauthorized, can't open panel "+u.panelId));var o=u.triggerEvent("panel-open",{panelId:u.panelId,destination:t,panels:n});return!1!==o&&o.panelId===u.panelId?(window.requestAnimationFrame((()=>u.node.classList.add("wy-transition"))),u.node.classList.add("wy-open"),r||(u.focus(!0),u.whenLoaded().then((()=>u.focus()))),u.load(o.destination,null,null,null,r)):Promise.reject(new Error("Prevented open "+u.panelId))}))},u.toggle=function(t){return e.whenReady().then((function(){e.info("toggling panel",u.panelId);var n=u.isOpen;return u.triggerEvent("panel-toggle",{panelId:u.panelId,closed:n}),n?u.close():u.open("string"==typeof t?t:null)}))},u.close=function(t,r){return e.whenReady().then((function(){if(u.isOpen){e.info("closePanel",u.panelId,!0===r?"no event":"",!0===t?"no history":""),u.whenClosed.reset();var o=[];u.triggerEvent("before:panel-close",{panelId:u.panelId,panels:n}),u.node.classList.remove("wy-open","wy-transition"),!0!==r&&(u.triggerEvent("on:panel-close",{panelId:u.panelId,panels:n}),!0!==t&&(u.stateChangedAt=Date.now(),e.history.addState())),o.push(u.postMessage({name:"close"}).catch((()=>{e.warn("Unable to close panel",u.panelId)}))),o.push(e.whenTimeout(250)),Promise.all(o).then((()=>u.postMessage({name:"closed"}))).then((()=>{u.triggerEvent("after:panel-close",{panelId:u.panelId,panels:n}),u.whenClosed.resolve()}))}return u.whenClosed()}))},u.load=function(t,o,a,i,s){return e.whenReady().then((function(){var l=u.frame;if(e.log("panel.load",t,i),t){if(t=new URL(t,e.url).href,!n.origins.has(new URL(t,e.url).origin))return Promise.reject("panel url has invalid origin");u.location=t,u.isReady?(e.log("panel is ready load"),i&&u.loadingStarted(!0),u.postMessage({name:"turbo-visit",url:t,data:o,method:a,action:"replace"})):(e.log("panel not ready load"),u.loadingStarted(i),function(t,n,r,o){e.whenReady().then((function(){if(o=String(o||"get").toLowerCase(),t){var a=n;if("get"===o&&r&&(a=-1===a.indexOf("?")?a+"?"+r:a+"&"+r),t.src!==a){if(t.src=a,"get"===o)return void e.debug("sendToFrame using src")}else if(t.src&&"get"===o)return e.debug("sendToFrame using window.open"),void window.open(a,t.name);e.debug("sendToFrame using form");var i=document.createElement("form");i.action=n,i.method=o,i.target=t.name,r&&(r=r.replace(/\+/g,"%20")),(r&&r.split("&")||[]).forEach((function(e){var t=e.split("="),n=decodeURIComponent(t[0]),r=decodeURIComponent(t[1]),o=document.createElement("input");o.type="hidden",o.name=n,o.value=r,i.appendChild(o)})),e.nodes.container.appendChild(i),i.submit(),i.remove()}}))}(l,t,o,a))}else if(u.isLoaded||u.isLoading){if(!u.isLoaded&&!u.isLoading)return Promise.resolve();u.postMessage({name:"show"})}else e.debug("panels:",r,"predefined loading"),u.loadingStarted(!0),l.setAttribute("src",l.dataset.src);return!0!==s&&(u.stateChangedAt=Date.now(),e.debug("panels: adding history state",r,u.location),e.history.addState()),u.whenLoaded()}))},u.preload=function(){var t=function(){u.isLoading||u.isLoaded||(e.debug("preloading panel:",r),u.load(null,null,null,null,!0))};return window.requestIdleCallback?window.requestIdleCallback(t):"complete"===document.readyState?t():e.one(document,"load",t),u.whenLoaded()},u.reload=function(){return e.whenReady().then((function(){u.isLoading=!0,u.postMessage({name:"reload"}),u.triggerEvent("panel-reload",{panelId:u.panelId})}))},u.reset=function(){return e.whenReady().then((function(){var t=u.frame;if(t){e.log("resetting panel",r);var n=d(t.dataset.src||t.src);y=!1,h=!1,p=!1,w=!1,u.location=null,u.statusCode=null,u.whenReady.reset(),u.whenLoaded.reset();var o=u.isOpen;try{x.unregisterContentWindow(t.name,e.getId())}catch(n){e.error("Could not unregister window id",t.name,n)}return u.node.removeChild(t),u.node.appendChild(n),u.frame=n,u.triggerEvent("panel-reset",{panelId:u.panelId}),o?u.load(null,null,null,null,!0):Promise.resolve()}return Promise.resolve()}))},u.getState=function(){return e.debug("getPanelState",r),e.history.getStateFromPanel(r)},u.setState=function(t){if(t&&t.panelId===r)if(n.origins.has(new URL(t.location,e.url).origin)){if(t.title&&(u.node.dataset.title=t.title),!t.statusCode||200===t.statusCode){if(t.isOpen===u.isOpen&&t.location===u.location||(u.stateChangedAt=t.changedAt),t.isOpen){var o=t.location!==u.location?t.location:null;return u.isOpen?u.open(o,!0):u.open(t.location,!0)}return u.close(!0)}e.warn("setState: Invalid url http status.",r)}else e.warn("setState: Invalid url origin.",r,new URL(t.location,e.url).origin);else e.warn("setState: State not valid.",r)},e.on(x,"message",{weavyId:e.getId(),windowName:u.frame.name},((e,t)=>u.triggerEvent("message",a(t,{panelId:r})))),u.postMessage=function(t,n){return u.whenReady().then((function(){var r=u.frame;return r?r.isConnected?r&&x?x.postToFrame(r.name,e.getId(),t,n):Promise.reject():Promise.reject(new Error("Panel frame "+u.panelId+" is not connected to the DOM.")):Promise.reject(new Error("No valid panel frame for "+u.panelId+"."))}))},u.remove=function(o,a){var i=function(a){if(!u.node.dataset.persistent||o){if(u.isOpen)return u.id=e.getId("weavy-panel-removed-"+r),e.whenTimeout(0).then((function(){return u.close(a).then((function(){return u.remove(o,a)}))}));e.off(x,"ready",{weavyId:e.getId(),windowName:u.frame.name},f),e.off(x,"unready",{weavyId:e.getId(),windowName:u.frame.name},g);try{x.unregisterContentWindow(u.frame.name,e.getId())}catch(t){e.error("Could not unregister window id",u.frame.name,t)}return u.node.remove(),t.delete(r),n.triggerEvent("panel-removed",{panelId:u.panelId}),Promise.resolve()}};return o?i(a):e.whenReady().then((function(){return i(a)}))},u.className??="",u.postStyles=function(){let t=u.triggerEvent("before:panel-css",{panelId:u.panelId,css:""});if(!t)return;let n=u.root.styles.getAllCSS();if(t=u.triggerEvent("on:panel-css",{panelId:u.panelId,css:[t.css,n].filter((e=>e)).join("\n")}),!t)return;let r=[e.className,u.className].filter((e=>e)).join(" ");e.debug("posting panel styles",u.panelId),u.postMessage({name:"styles",id:u.panelId,css:t.css,className:r}),u.triggerEvent("after:panel-css",t)},u.on("panel-ready",u.postStyles),u.root.on("root-styles",u.postStyles),e.on("update-class-name update-css",u.postStyles),e.on(x,"request:reset",{weavyId:e.getId(),windowName:u.frame.name},(function(){u.reset()})),e.on(x,"request:close",{weavyId:e.getId(),windowName:u.frame.name},(function(){u.close()})),u.node.appendChild(function(t,n){var r=document.createElement("div");if(r.className="wy-controls",n.controls&&(!0===n.controls||n.controls.close)){var o=document.createElement("button");o.className="wy-button wy-button-icon"+("string"==typeof n.controls.close?" "+n.controls.close:""),o.title="Close",o.innerHTML='<svg height="24" viewBox="0 0 24 24" width="24" data-icon="close" class="wy-icon"><path d="m19 6.41-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path></svg>',e.on(o,"click",t.close.bind(t)),r.appendChild(o)}return r}.call(e,u,s)),n.triggerEvent("panel-added",{panel:u,panelId:r,url:i,attributes:s}),u}function v(t){t.isLoading?(!function(t){if(!t.isRegistered){try{x.registerContentWindow(t.frame.contentWindow.self,t.frame.name,e.getId(),t.origin)}catch(n){e.error("Could not register window id",t.frame.name,n)}y=!0}}(t),l[r]=e.whenTimeout(3e4),l[r].then((function(){w=!1,v(t)}))):l[r]&&(l[r].cancel(),delete l[r]),t.triggerEvent("panel-loading",{panelId:r,isLoading:t.isLoading,isLoaded:t.isLoaded})}e.error("new WeavyPanel() is missing panelId")},se=function(e){var t=new Map,n=new Map,r=new Set;function o(t){e.debug("closing panels");var r=[];return n.forEach((function(e){r.push(e.close(t))})),Promise.all(r)}function a(r){e.debug("clearing"+(r?" all":"")+" panels",n.size);var o=[];n.forEach((function(e){o.push(e.remove(r,!0))}));var a=Promise.all(o).then((function(){t.forEach((function(n,o){!function(n,r){n=n||"global";var o=t.get(n);if(r){try{o.node.remove()}catch(t){e.warn("Could not remove panels container")}t.delete(n),delete o.node,e.log("Panels container removed",n)}}(o,r)}))}));return a}function i(){e.debug("resetting panels");var t=[];return n.forEach((function(e){t.push(e.reset(!0))})),Promise.all(t)}function s(r){if(ae)return Promise.resolve();var o=this;return"whenReady"in e?e.whenReady().then((function(){var a,i=(a=o instanceof HTMLElement&&o.dataset.containerId?t.get(o.dataset.containerId).panels:Array.from(n.values())).filter((function(e){return e.isLoading}));if(i.length)return Promise.all(i.map((function(e){return e.whenLoaded()}))).then((function(){return s.call(o,r)}));var l=a.filter((function(e){return!("true"!==e.node.dataset.preload&&"placeholder"!==e.node.dataset.preload||e.isLoading||e.isLoaded)}));if(l.length)return Promise.all(l.map((function(e){return e.preload()}))).then((function(){return s.call(o,r)}));if(r){var c=a.filter((function(e){return"false"!==e.node.dataset.preload&&!e.isLoading&&!e.isLoaded}));if(c.length)return c[0].preload().then((function(){return e.whenTimeout(1500).then((function(){return s.call(o,!0)}))}))}return e.debug("preload done"),Promise.resolve()})):Promise.resolve()}r.add(e.url.origin);var l=function(){!1!==e.options.preload&&e.whenTimeout(5e3).then((function(){s()}))};e.on("load",l),e.on("clear-user signed-out",(function(){o(!0)})),e.on("after:clear-user after:signed-out",(function(){i()})),e.on("user-error",(function(){a()})),e.on("destroy",(function(t,n){e.off("load",l),n.whenAllDestroyed.push(a(!0))})),this.clearPanels=a,this.closePanels=o,this.createContainer=function(o,a){a=a||"global";var i=e.getId("panels-"+a),s={containerId:a,root:o},l=document.createElement("div");return l.id=i,l.className="wy-panels",l.dataset.containerId=a,s.node=l,s.addPanel=function(t,r,o){return new ie(e,n,s,t,r,o)},s.on=e.events.on.bind(s),s.one=e.events.one.bind(s),s.off=e.events.off.bind(s),s.triggerEvent=e.events.triggerEvent.bind(s),Object.defineProperty(s,"origins",{get:()=>r}),t.set(a,s),s},this.getContainer=function(e){return t.get(e||"global")},this.getPanel=function(e){return n.get(e)},this.getCurrentPanels=function(){return Array.from(n.values())},this.preload=s,this.resetPanels=i,Object.defineProperty(this,"origins",{get:()=>r})};se.defaults={controls:{close:!1}};const le=se;const ce=function(e){var t=this,n=new Map,r=null,o={modal:"wy-modal",preview:"wy-dark",overlay:"wy-modal-full"},i={preview:/^(.*)(\/attachments\/[0-9]+\/?)(.+)?$/,content:/^(.*)(\/content\/[0-9]+\/?)(.+)?$/};function s(){e.debug("sorting overlays",Array.from(n.values()).filter((e=>e.isOpen)).reverse()),Array.from(n.values()).filter((e=>e.isOpen)).reverse().forEach(((e,t)=>{e.node&&(e.node.style.transform="translateZ(-"+t+"rem)")}))}function l(e){e.isOpen?e.loadingStarted(!0):e.reset()}function c(){return Array.from(n.values()).filter((e=>e.isOpen)).pop()}function d(e){var t=c();if(t)return 27===e?(t.close(),!0):(t.postMessage({name:"key:trigger",which:e}),!0)}this.overlay=function(t){t=a(t),t.controls??={close:!0};let r=t.overlayId||t.type||"overlay",i=n.get(r);if(i)t.title?i.node.dataset.title=t.title:delete i.node.dataset.title;else{let a=new URL(t.url,e.url);t.type&&(t.className=p(o[t.type],t.className)),e.options.className&&(t.className=p(t.className,e.options.className)),i=e.nodes.panels.overlays.addPanel("overlay:"+r,a,t),i.on("panel-open",(function(){!function(t){var r=n.get(t);r&&(e.debug("preview panels moveToFront",t),n.delete(t),n.set(t,r),requestAnimationFrame(s))}(r)})),n.set(r,i)}return i},e.on(x,"overlay-open",e.getId(),(function(n,r){var o=new URL(r.url,e.url).href;r.url=o,r.overlayId=r.overlayId||r.type||r.weavyMessageId||"overlay",e.log("overlay-open",r);var a,i=t.overlay(r,!0);i.location&&i.location!==r.url&&l(i),a=r.url,i.open(a)})),e.on("before:build",(function(){e.nodes.panels.overlays||(e.nodes.panels.overlays=e.panels.createContainer(e.root),e.nodes.panels.overlays.node.classList.add("wy-overlays"),e.nodes.global.appendChild(e.nodes.panels.overlays.node),r=e.nodes.panels.overlays)})),e.on("after:panel-close",(function(t,r){if(r.panels===e.nodes.panels.overlays){var o=r.panelId.split("overlay:")[1];n.get(o);e.log("overlay panel after:close",r.panelId,o),s(),c()?.focus()}})),this.open=function(n){return e.whenLoaded().then((function(){var e=n.url,r=n.target||"overlay";"overlay"===r&&i.preview.test(e)&&(r="preview");var o=t.overlay({type:r,url:e});return n.source&&n.source!==o.frame.name&&l(o),o.open(e)}))},this.openState=function(n){return e.whenLoaded().then((function(){let e=a(n.attributes,{title:n.title});t.overlay(e).setState(n)}))},this.closeAll=function(t){return e.whenLoaded().then((function(){let e=Array.from(n.values()).map((e=>e.close(t)));return Promise.all(e)}))},Object.defineProperty(this,"container",{get:function(){return r}}),e.on(x,"key:press",e.getId(),(function(t,n){e.log("bouncing key",n.which,c()?.panelId),d(n.which)})),e.on(document,"keyup",(function(e){d(e.which)&&e.stopImmediatePropagation()}))};const de=function(e){var t=this;function n(t){var n=new k;if(t.target)e.log("navigation: opening overlay "+t.url),e.overlays.open(t).then((e=>{n.resolve(e)}));else if(t.url){let r={url:new URL(t.url,e.url)};e.whenLoaded().then((function(){let o=e.apps.filter((function(e){return e.match(r)})).pop();o?(console.log("found matching navigation app by url"),e.overlays.closeAll(!0),o.open(t.url).then((function(e){n.resolve(e)}))):(e.info("navigation: requested app was not found"),n.reject())}))}else e.warn("navigation: no valid request"),n.reject();return n()}t.open=function(t){var r=o(t)&&t.url,a=!t.target&&("string"==typeof t&&t||r),i=String(a||r);if(i.includes("wvy:")){e.log("checking wvy: url");var s=i,l=new URL(i,e.url),c=l&&l.hash&&l.hash.replace(/^#/,"");return c&&c.startsWith("wvy:")&&(s=l.hash.replace(/^#/,"").split(",")),e.history.open(s)}return a?(e.log("open navigation url",i),n({url:i})):r?(e.log("open navigation request",t),n(t)):k.reject()},e.on(x,"navigation-open",e.getId(),(function(n){let r="string"==typeof n.data.route?{url:n.data.route}:n.data.route;e.log("navigation-open",r),r=e.triggerEvent("before:navigate",r),r.source=n.data.windowName,!1!==r&&(e.info("navigate: trying internal auto navigation"),t.open(r).catch((function(){r=e.triggerEvent("on:navigate",r),!1!==r&&e.triggerEvent("after:navigate",r)})))}))};const ue=function(e){var t=this;function n(e,t){return t&&(t.forEach((function(t){var n=!1;e=e.map((function(e){var r=!e.weavyId&&!t.weavyId||e.weavyId===t.weavyId,o=e.panelId===t.panelId;return r&&o?(n=!0,t):e})),n||e.push(t)})),e.sort((function(e,t){var n=e.isOpen-t.isOpen,r=(e.changedAt||0)-(t.changedAt||0);return n||r}))),e}function r(){var n=t.getCurrentState();e.debug("history: set current state",n),t.setBrowserState(n,"replace")}t.openUri=function(e){var n=t.getStateFromUri(e);return n&&n.panels.length?t.openState(n):k.reject()},t.getStateFromUri=function(t){t=i(t);var n=[];return t.forEach((function(t){if("string"==typeof t&&0===t.indexOf("wvy://")){var r=/^wvy:\/\/([^@/]*)@?([^/]*)(.*)$/.exec(t);if(r&&r.length){var o=r[1],a=r[2],i="panel-"+o+"__"+(a||e.getId()),s=r[3];e.debug("history: parsed wvy url",a,o),n.push({id:i,panelId:o,isOpen:!0,location:s,statusCode:200,weavyId:a,weavyUri:t,changedAt:Date.now()})}}})),{panels:n}},t.getStateFromPanel=function(t){var n=e.panels.getPanel(t);if(n){var r=e.options.id&&e.getId(),o="wvy://"+(e.options.id?e.getId(t).replace("__","@"):t)+(n.location&&new URL(n.location,e.url).pathname||"");return{id:n.node.id,panelId:t,isOpen:n.isOpen,location:n.location,statusCode:n.statusCode,title:n.node.dataset.title,weavyId:r,weavyUri:o,changedAt:n.stateChangedAt,attributes:n.attributes}}e.warn("history: getStateFromPanel; Panel not found "+t)},t.getCurrentState=function(){return{panels:e.panels.getCurrentPanels().map((function(e){return e.getState()})).sort((function(e,t){var n=e.isOpen-t.isOpen,r=(e.changedAt||0)-(t.changedAt||0);return n||r}))}},t.getBrowserState=function(){return window.history.state&&window.history.state.weavy},t.setBrowserState=function(t,r,o){if(t){e.debug("history: "+(r||"setting")+" browser state");var a=window.history.state||{};a.weavy=a.weavy||{},a.weavy.panels=n(a.weavy.panels||[],t.panels),o=o&&String(o)||window.location.href;try{"replace"===r?window.history.replaceState(a,null,o):window.history.pushState(a,null,o)}catch(t){e.warn("history: Could not push history state.",t)}}},t.addState=function(r,o){o=o||t.getCurrentState();var a=window.history.state||{},i=a.weavy=a.weavy||{},s={state:o,action:r||"push",url:window.location.href,globalState:i};return!1!==(s=e.triggerEvent("before:history",s))&&(s.globalState.panels=n(s.globalState.panels||[],s.state.panels),!1!==(s=e.triggerEvent("on:history",s))&&(e.debug("history: "+s.action+" history state"),t.setBrowserState(s.state,s.action,s.url),e.triggerEvent("after:history",s))),s.state},t.openState=function(t){return t&&t&&t.panels&&Array.isArray(t.panels)?e.whenReady().then((function(){return e.debug("history: opening state"),e.overlays.closeAll(!0),Promise.all(t.panels.map((function(t){if(!t.weavyId&&!e.options.id||t.weavyId===e.getId()){if(!t.panelId.startsWith("overlay:")){var n=e.panels.getPanel(t.panelId);return n?(e.debug("history: setting panel state",t.panelId),n.setState(t)):k.resolve()}e.overlays.openState(t)}})))})):k.reject("Error opening state")},e.on(window,"popstate",(function(){var n=t.getBrowserState();n&&(e.debug("history: popstate",n),t.openState(n))})),e.whenInitialized().then((function(){var n=t.getBrowserState();n&&(e.debug("history: load state",n),t.openState(n)),e.whenLoaded().then(e.whenTimeout(1)).then(r)}))},ye=new Map,he={method:"POST",mode:"cors",cache:"reload",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},redirect:"manual",referrerPolicy:"no-referrer-when-downgrade"};class pe{constructor(e){var t=!1,n=new b("WeavyAuthentication");n.debug("Create new weavy authentication",e),(e=e&&String(e)||window.location.origin+"/")&&(e=/\/$/.test(e)?e.slice(0,-1):e);var r=new w(this);this.on=r.on,this.one=r.one,this.off=r.off;var o,a,i=null,s=null,l=new k,c=new k,d=!1,u=new k,y=!1;function p(e){return e?e.id&&-1!==e.id||!1:i&&i.id&&-1!==i.id||!1}var f=!1,g=new k;function v(e){n.debug("Configuring token factory"),o=null,a=e,f=!1,g.reset()}function m(e){if("pending"!==g.state()&&e&&(g.reset(),f=!1),!1===f)if(n.debug("Requesting new token"),f=!0,"function"==typeof a){var t=a(e);"function"==typeof t.then?t.then((function(e){"string"==typeof e&&e?(o=e,g.resolve(o)):g.reject("The async token factory should return a string token.")}),(function(e){g.reject("Failed to get token from the async token factory:",e)})):g.reject("The token factory is not an async function.")}else g.reject("The token factory should be an async function returning a string.");return g()}function I(){n.debug("clearing access token and token factory"),o=null,a=null,f=!1,g.reset()}function x(e,t){e&&e.id?(i&&e&&i.id!==e.id&&n.debug("setUser",e.id,t),i=e,s=!0,p(e)?c.resolve():("pending"!==c.state()&&c.reset(),y=!1,u.resolve()),l.resolve(e)):(i=null,s=!1,c.reset())}function E(e,t){var o="updated";e&&e.id?(s&&(p()?e&&-1===e.id?(n.info("signed-out"),o="signed-out"):e&&e.id!==i.id&&(n.info("changed-user"),o="changed-user"):e&&-1!==e.id&&(n.info("signed-in",t),o="signed-in")),x(e,t||"processUser()"),r.triggerEvent("user",{state:o,authorized:p(e),user:e})):(x(null,t||"processUser()"),r.triggerEvent("clear-user"),r.triggerEvent("user",{state:"user-error",authorized:!1,user:e})),d=!1}function S(t){if(!d){d=!0,n.debug("checkUserState"+(void 0!==a?":token":":cookie"),t),"pending"!==l.state()&&l.reset(),"pending"!==c.state()&&c.reset();var r=new URL("/dropin/client/user",e),o=Object.assign({},he);m().then((function(e){if("string"!=typeof e)return Promise.reject(new Error("Provided access token is invalid."));o.body=JSON.stringify({access_token:e}),window.fetch(r.toString(),o).then((function(e){return 401===e.status&&void 0!==a?(n.warn("access token validation failed, trying again"),m(!0).then((function(e){return o.body=JSON.stringify({access_token:e}),window.fetch(r.toString(),o)}))):e})).then(h).then((function(e){n.debug("checkUserState fetch -> processing user"),E(e,"checkUserState,"+t)}),(function(){n.warn("checkUserState request fail"),n.debug("checkUserState fetch fail -> processing user"),E({id:null},"checkUserState,"+t)}))}))}return l()}function C(){var t=new k,o=new URL("/dropin/client/login",e);if(y)return u.then((function(){return C()}));"pending"!==u.state()&&u.reset(),n.debug("validating access token"),r.triggerEvent("signing-in");var a=Object.assign({},he);return m().then((function(e){return e&&"string"==typeof e?(a.headers.Authorization="Bearer "+e,window.fetch(o.toString(),a).then((function(e){return 401===e.status?(n.warn("access token validation failed, trying again"),m(!0).then((function(e){return a.headers.Authorization="Bearer "+e,window.fetch(o.toString(),a)}))):e})).then(h).then((function(e){return E(e),t.resolve(e)})).catch((function(e){n.error("sign in with access token failed.",e.message),r.triggerEvent("authentication-error",{method:"access_token",status:401,message:e.message}),E({id:null})}))):Promise.reject(new Error("Provided access token is invalid."))}))}this.init=function(e){return(null===s||e&&e!==a)&&("function"==typeof e&&v(e),void 0!==a?(n.debug("authenticate using token factory"),C()):S("init()")),t||(t=!0,n.debug("initialized")),l()},this.isAuthorized=p,this.isAuthenticated=function(){return!0===s},this.isInitialized=function(){return!0===t},this.isProvided=function(){return!!a},this.whenAuthenticated=function(){return l()},this.whenAuthorized=function(){return c()},this.signIn=function(){return"pending"!==l.state()&&l.reset(),"pending"!==c.state()&&c.reset(),C(),l()},this.signOut=function(t){var o=new URL("/dropin/client/logout",e);return y=!0,t&&I(),r.triggerEvent("clear-user"),window.fetch(o.toString(),he).catch((function(){n.warn("signOut request fail")})).finally((function(){n.debug("signout ajax -> processing user"),E({id:-1},"signOut()")})),u()},this.setTokenFactory=v,this.getAccessToken=m,this.clearTokenFactory=I,this.checkUserState=S,this.user=function(){return i},this.destroy=function(){s=null,i=null,I(),r.clear(),t=!1}}}const we=class{static getAuthentication(e){var t=!1,n=(e=e&&String(e))&&/^(https?:\/(\/[^/]+)+)\/?$/.exec(e);if(n&&(t=window.location.origin===n[1],e=n[1]),e=(t?"":e)||"",ye.has(e))return ye.get(e);var r=new pe(e);return ye.set(e,r),r}static removeAuthentication(e){e=e&&String(e)||"";try{var t=ye.get(e);t&&t.destroy&&t.destroy(),ye.delete(e)}catch(t){console.error("Could not remove authentication",e,t)}}};var fe=function(e,t,n){e.debug("new WeavyApp",t);var r=this;r.container=null,r.root=null,r.panel=null,r.url=null,r.uid=null,r.name=null,r.type=null,r.autoOpen=null,r.weavy=e,r.options=t,r.data=n,r.eventParent=e,r.on=e.events.on.bind(r),r.one=e.events.one.bind(r),r.off=e.events.off.bind(r),r.triggerEvent=function(t,n){return n=a(n,{app:r}),e.events.triggerEvent.call(r,t,n)},Object.defineProperty(this,"isOpen",{get:function(){return!!r.panel&&r.panel.isOpen}}),r.isInitialized=!1,r.isBuilt=!1,Object.defineProperty(this,"isLoaded",{get:function(){return!!r.panel&&r.panel.isReady}}),r.whenInitialized=new k,r.whenBuilt=new k,r.whenLoaded=new k;var o=t.css||"";Object.defineProperty(r,"css",{get:function(){return o},set:function(e){o=e,r.whenBuilt().then((()=>{r.root.styles.css=e,r.panel.postStyles()}))}});var i=t.className||"";Object.defineProperty(r,"className",{get:function(){return i},set:function(e){i=e,r.whenBuilt().then((()=>{r.root.className=e,r.panel.className=e,r.panel.postStyles()}))}}),r.configure=function(t,n){t&&"object"==typeof t&&(r.options=a(r.options,t,!0)),n&&"object"==typeof n&&(r.data=n),r.options&&"object"==typeof r.options&&(null!==r.autoOpen&&null!==r.container||(r.autoOpen=r.options&&void 0!==r.options.open?r.options.open:!r.group||!1,r.container=r.options.container),null===r.uid&&r.options.uid&&(r.uid=r.options.uid),null===r.name&&r.options.name&&(r.name=r.options.name),null===r.type&&r.options.type&&(r.type=r.options.type)),r.data&&"object"==typeof r.data&&(!r.uid&&r.data.uid&&(r.uid=r.data.uid),null===r.url&&r.data.url&&(r.url=new URL(r.data.url,e.url)),r.isInitialized=!0,r.triggerEvent("app-init"),r.whenInitialized.resolve(r),!r.isBuilt&&r.weavy.isBuilt&&r.build())},r.fetchOrCreate=function(t){if(t&&"object"==typeof t&&(r.options=t),r.options&&"object"==typeof r.options){var n=new URL("/dropin/client/app",e.url);e.fetch(n,r.options,"POST").then((function(e){r.data=e,r.configure.call(r)})).catch((function(e){r.weavy.error("WeavyApp.fetchOrCreate()",e.message),r.whenInitialized.reject(e)}))}else r.whenInitialized.reject(new Error("WeavyApp.fetchOrCreate() requires options"));return r.whenInitialized()},r.build=function(){return e.authentication.whenAuthorized().then((function(){var t=r.uid||r.type;if(r.options&&r.data){let s="app-root-"+(r.options.group||t);var n=r.root??=e.getRoot(s);if(!n&&r.container)try{r.root=n=e.createRoot(r.container,s,r),r.root.styles.css=r.css,r.root.className=r.className,n.apps=new Set,n.container.panels=e.panels.createContainer(r.root,"app-container-"+t),n.container.panels.eventParent=r,n.container.appendChild(n.container.panels.node)}catch(n){e.warn("could not create app in container:",t,n)}if(!r.isBuilt&&n){r.isBuilt=!0,e.debug("Building app",t);var o="app-"+t,i=!(!r.options||void 0===r.options.controls)&&r.options.controls;r.panel=n.container.panels.addPanel(o,r.url,{controls:i,className:r.className}),n.apps.add(r),r.panel.on("panel-open",((e,t)=>r.triggerEvent("app-open",t))),r.panel.on("panel-toggle",((e,t)=>r.triggerEvent("app-toggle",t))),r.panel.on("panel-close",((e,t)=>r.triggerEvent("app-close",t))),r.on("before:message",((e,t)=>{if(t.panelId===o)return a(t,{app:r})})),r.panel.whenReady().then((()=>{r.triggerEvent("app-load"),r.whenLoaded.resolve(r)})),r.triggerEvent("app-build"),r.whenBuilt.resolve(r)}}})),r.whenBuilt()},e.on("build",r.build.bind(r)),r.whenBuilt().then((function(){e.whenReady().then((function(){r.autoOpen&&!r.isOpen&&r.open.call(r,null,!0)}))})),e.on("after:signed-in",(function(){e.whenReady().then((function(){r.autoOpen&&!r.isOpen&&r.open.call(r,null,!0)}))})),r.configure()};fe.prototype.open=function(e,t){var n=this,r=n.weavy;return Promise.all([n.whenBuilt(),r.whenInitialized()]).then((function(){var o=[n.panel.open(e,t)];let a=Array.from(n.root&&n.root.apps||[]);return a.length>1&&a.forEach((function(e){e!==n&&o.push(e.panel.close(!0))})),Promise.all(o).catch((function(e){r.warn("Could not open app",n.uid,e)}))}),(function(e){r.warn("Could not open app",n.uid,e)}))},fe.prototype.close=function(){var e=this;return e.autoOpen=!1,e.whenBuilt().then((function(){return e.panel.close()}))},fe.prototype.toggle=function(e){var t=this,n=t.weavy;return t.whenBuilt().then((function(){var r=[t.panel.toggle(e)];let o=Array.from(t.root&&t.root.apps||[]);return!t.isOpen&&o.length>1&&o.forEach((function(e){e!==t&&r.push(e.panel.close(!0,!0))})),Promise.all(r).catch((function(e){n.warn("Could not toggle app",t.uid,e)}))}))},fe.prototype.reset=function(){var e=this,t=e.weavy;return Promise.all([e.whenBuilt(),t.whenReady()]).then((function(){return e.panel.reset()}))},fe.prototype.remove=function(){var e=this,t=this.weavy;t.debug("Removing app",e.uid);var n=(e.panel?e.panel.remove(null,!0):Promise.resolve()).then((function(){if("getRoot"in t){let r="app-root-"+(e.options.group||e.uid||e.type);var n=t.getRoot(r);n&&0===n.apps.size&&n.remove()}}));return e.root.apps.delete(e),t.apps=t.apps.filter((function(t){return!t.match(e)})),n},fe.prototype.postMessage=function(e,t){var n=this;return n.whenBuilt().then((function(){return n.panel.postMessage(e,t)}))},fe.prototype.addCSS=function(e){return this.whenBuilt.then((()=>{this.root.addStyles({css:e})}))},fe.prototype.match=function(e){if(e){if(e.uid&&this.uid)return l(e.uid,this.uid);if(e.type&&this.type&&!this.uid)return l(e.type,this.type);if(e.url&&this.url){let t=new URL(e.url),n=new URL(this.url),r=t.href===n.href;n.pathname.endsWith("/")||(n.pathname+="/");let o=t.href.startsWith(n.href);return r||o}}return!1},fe.getAppSelector=e=>{var t=o(e)&&e.uid,n=o(e)&&!e.uid&&e.type;return{isUid:t,isType:n,selector:(t||n)&&e}},fe.select=(e,t,n)=>{var r,o=fe.getAppSelector(n);if(o.selector){try{r=t.filter((function(e){return e.match(o.selector)})).pop()}catch(e){}r||(o.isUid||o.isType?(r=new fe(e,n),t.push(r),Promise.all([e.authentication.whenAuthorized(),e.whenInitialized()]).then((function(){r.fetchOrCreate()})).catch((function(t){e.warn("Could not fetchOrCreate app",t||"")}))):e.warn("App "+JSON.stringify(o.selector)+" is not defined properly."))}return r};const ge=fe;console.info("weavy.js");const ve="/dropin/client/init",me=/(?<major>\d+)\.(?<minor>\d+)\.(?<patch>\d+)(?:[-](?<prerelease>[^+]+))?(?:[+](?<build>\S+))?/;var be=[],Ie=function(){var t=this;for(var n in t.options=a(Ie.defaults),arguments)arguments[n]&&"object"==typeof arguments[n]&&(t.options=a(t.options,arguments[n],!0));function r(t){return t="wy-"+(t?t.replace(new RegExp("^wy-"),""):e()+e()),-1!==be.indexOf(t)&&(t=r(t+e())),t}var l,c=r(t.options.id);Object.defineProperty(t,"id",{get:function(){return c}}),be.push(t.id),t.console=new b(this,t.options.logging),t.log=t.console.log,t.debug=t.console.debug,t.warn=t.console.warn,t.error=t.console.error,t.info=t.console.info,t.getId=function(e){return e?t.removeId(e)+"__"+t.id:t.id},t.removeId=function(e){return e?String(e).replace(new RegExp("__"+t.getId()+"$"),""):e},Object.defineProperty(t,"version",{get:function(){return Ie.version},configurable:!1}),t.version&&t.log(t.version);try{if(!t.options.url||"/"===t.options.url||!new URL(t.options.url))throw new Error;l=t.options.url,"enforce"===t.options.https?l=l.replace(/^http:/,"https:"):"adaptive"===t.options.https&&(l=l.replace(/^http:/,window.location.protocol))}catch(e){return void t.error('Required url not specified.\nnew Weavy({ url: "https://mytestsite.weavycloud.com/" })')}Object.defineProperty(t,"url",{get:function(){return new URL(l)}}),t.user=null,t.data=null,t.isInitialized=!1,t.isBlocked=!1,t.isBuilt=!1,t.isLoading=!1,t.isLoaded=!1,t.events=new w(t),t.on=t.events.on,t.one=t.events.one,t.off=t.events.off,t.triggerEvent=t.events.triggerEvent,t.authentication=we.getAuthentication(t.url),void 0!==t.options.tokenFactory||t.authentication.isProvided()||t.error("specify an async token factory in your options"),t.authentication.isProvided()&&t.authentication.isInitialized()||t.authentication.init(t.options.tokenFactory),t.on(t.authentication,"user",(function(e,n){t.user=n.user,/^signed-in|signed-out|changed-user|user-error$/.test(n.state)&&(t.isLoading||(t.isLoaded&&t.whenLoaded.reset(),t.isLoaded=!1,t.data=null),"changed-user"===n.state?(t.triggerEvent("signed-out",{id:-1}),t.triggerEvent("signed-in",n)):t.triggerEvent(n.state,n),v())})),t.on(t.authentication,"signing-in",(function(){t.triggerEvent("signing-in")})),t.on(t.authentication,"clear-user",(function(){t.triggerEvent("clear-user")})),t.on(t.authentication,"authentication-error",(function(e,n){t.triggerEvent("authentication-error",n)})),t.nodes={},t.nodes.container=null,t.nodes.global=null,t.nodes.panels={},t.panels=new le(t),t.overlays=new ce(t),t.apps=new Array,t.app=ge.select.bind(this,t,t.apps);var y=[];function p(){y.forEach(clearTimeout),y=[]}function f(){var e=t.apps.reduce((function(e,t){return e&&t.isInitialized}),!0);return e}function g(){if(f())return k.resolve();var e=t.apps.reduce((function(e,t){return e.push(t.whenInitialized()),e}),[]);return Promise.all(e).then(g)}function v(){var e=new k;if(!t.isLoading){t.isLoaded&&t.whenLoaded.reset(),t.isLoaded=!1,t.isLoading=!0,t.options.href=window.location.href;var n=new URL(ve,t.url).href,r={plugins:t.options.plugins,version:t.version};t.options.lang&&(r.lang=t.options.lang),t.options.tz&&(r.tz=t.options.tz),t.fetch(n,r,"POST",null,!0).then((function(n){t.triggerEvent("client-data",n),e.resolve()}))}return e()}t.whenTimeout=function(e){var t,n=new k,r=function(){var e=y.indexOf(t);e>=0&&y.splice(e,1)};return y.push(t=setTimeout((function(){n.resolve()}),e)),n.then(r),n.catch((function(){return r(),clearTimeout(t),Promise.reject(new Error("Timeout cancelled"))})),n.cancel=function(){r(),clearTimeout(t)},n},t.whenReady=new k,t.whenInitialized=new k,t.whenBuilt=new k,t.whenLoaded=new k,t.on("init",(function(){t.options.apps&&(t.warn("Defining apps in weavy instance options is deprecated. Use weavy.app({ ...appOptions }) instead."),i(t.options.apps).forEach((function(e){t.app(e)})));v().then((function(){C.call(t).then((function(){t.whenReady.resolve()})),t.on("message",{name:"authenticate"},(()=>t.authentication.checkUserState("postal:authenticate")))}))})),t.on("after:init",(function(){t.isInitialized=!0,t.whenInitialized.resolve()})),t.init=function(e){return t.options=a(t.options,e),t.triggerEvent("init"),t.whenInitialized()},t.on("client-data",(function(e,n){if(t.data=n,t.isLoading=!1,!n)return t.error("Error loading client data"),void t.whenLoaded.reject();let r=me.exec(t.version),o=me.exec(t.data.version);if(r&&o&&(delete r.groups.build,delete o.groups.build,!d(r.groups,o.groups,!0))){let e="Weavy client/server version mismatch! \nclient: "+t.version+" \nserver: "+t.data.version,n=r.groups.major===o.groups.major,a=r.groups.minor===o.groups.minor;n&&a?t.warn(e):t.error(e)}!1===t.isBuilt&&(I.call(t),t.triggerEvent("build",{container:t.nodes.container,global:t.nodes.global}),t.isBuilt=!0,t.whenBuilt.resolve()),Promise.all([g(),t.whenReady()]).then((function(){t.triggerEvent("load"),t.isLoaded=!0,t.whenLoaded.resolve()}))}));var m=new Map;function I(){if(!t.getRoot()){var e=s(t.options.container)||document.documentElement,n=t.root=t.createRoot.call(t,e);t.nodes.container=n.root,t.nodes.global=n.container,t.root.className="wy-viewport"}}t.getRoot=function(e){return m.get(t.getId(e))},t.createRoot=function(e,n,r){var o=t.getId(n),a=s(e);if(a){if(m.has(o))return t.warn("Root already created",o),m.get(o);var i=new oe(t,a,o,r);return i.on("root-remove",(()=>m.delete(o))),m.set(o,i),i}t.error("No parent container defined for createRoot",o)};var E=t.options.css||"";Object.defineProperty(t,"css",{get:function(){return E},set:function(e){E=e,t.triggerEvent("update-css",{css:e})}});var S=t.options.className||"";function C(){var e,n,r=new URL("/dropin/client/ping",t.url),o="hasStorageAccess"in document,a=new k,i=new k,l=new k,c=new k,d=t.whenTimeout(3e3);if(!t.nodes.statusFrame){t.log("Frame Check: Started...");var u=t.nodes.statusFrame=document.createElement("iframe");u.className="wy-status-check",u.hidden=!0,u.id=t.getId("status-check"),u.setAttribute("name",t.getId("status-check"));return t.on(x,"user-status",{weavyId:t.getId(),windowName:t.getId("status-check")},(function(r,l){var c=parseInt(l.id)===parseInt(t.authentication.user().id);t.debug("Frame Check: user-status received",c),a.resolve(c),c?i.resolve():o?function(){d.cancel();var r,o=s('<div class="wy-text">Third party cookies are required to use this page.</div>'),a=s('<button class="wy-button">Enable cookies</button>');a.onclick=function(){t.log("Frame Check: Opening storage access request"),r=window.open(new URL("/dropin/client/cookie-access",t.url),t.getId("storage-access")),x.registerContentWindow(r,t.getId("storage-access"),t.getId(),t.url.origin),t.one(x,"ready",{weavyId:t.getId(),windowName:t.getId("storage-access")},(()=>{let e={name:"styles",id:null,css:t.root.styles.getAllCSS(),className:t.className};x.postToFrame(t.getId("storage-access"),t.getId(),e)}))};var i=document.createElement("template").content;i.append(o,a),t.plugins.dialog&&(n=t.dialog(i,!0)),t.one(x,"storage-access-granted",{weavyId:!0,domain:t.url.origin},(function(){t.log("Frame Check: Storage access was granted, authenticating and reloading status check."),e&&(e.remove(),e=null),n&&(n.remove(),n=null);let r=t.getId();t.authentication.signIn().then((function(){t.debug("Frame Check: reloading status check"),x.postToFrame(t.getId("status-check"),r,{name:"reload"})}))}))}():o||t.plugins.toast&&(e=t.dialog("Allow third party cookies to use this page."))})),t.one(x,"ready",{weavyId:t.getId(),windowName:t.getId("status-check")},(function(){t.debug("Frame Check: frame ready"),c.resolve()})),d.then((function(){t.fetch(r).then((function(e){if(t.warn("Status check timeout. Please make sure your web server is properly configured."),!e.ok)return Promise.reject(new Error("Error fetching status url: "+e.statusText));if(e.headers.has("X-Frame-Options")){let t=e.headers.get("X-Frame-Options");if("DENY"===t||"SAMEORIGIN"===t&&r.origin!==window.location.origin)return Promise.reject(new Error("Frames are blocked by header X-Frame-Options"))}if(e.headers.has("Content-Security-Policy")){let n=e.headers.get("Content-Security-Policy").split(";").filter((function(e){return 0===e.indexOf("frame-ancestors")})).pop();if(n){let e=n.split(" ");if(e.splice(0,1),!e.filter((function(e){return"'self'"===e&&t.url.origin===window.location.origin||(e.indexOf("*")?window.location.origin.endsWith(e.split("*").pop()):e===window.location.origin)})).length)return Promise.reject(new Error("Frames blocked by header Content-Security-Policy: frame-ancestors"))}}})).catch((function(e){t.error("Frame status error detected: "+e.message)}))})),t.nodes.container.appendChild(t.nodes.statusFrame),t.whenTimeout(1).then((function(){t.nodes.statusFrame.src=r.href,t.isBlocked=!0;try{x.registerContentWindow(t.nodes.statusFrame.contentWindow,t.getId("status-check"),t.getId(),t.url.origin)}catch(e){t.warn("Frame postMessage is blocked",e),t.triggerEvent("frame-check",{blocked:!0})}})),Promise.all([c(),i()]).then((function(){return t.log("Frame Check:","OK"),t.isBlocked=!1,d.cancel(),e&&(e.remove(),e=null),n&&(n.remove(),n=null),t.triggerEvent("frame-check",{blocked:!1}),l.resolve({blocked:!1}),l()})).catch((function(e){return t.triggerEvent("frame-check",{blocked:!0}),l.reject(new Error("Frame check failed: "+e.message)),l()}))}}Object.defineProperty(t,"className",{get:function(){return S},set:function(e){S=e,t.triggerEvent("update-class-name",{className:e})}}),t.fetch=function(e,n,r,o){e=new URL(e,t.url),r=r||"GET",n=n&&"string"==typeof n&&n||"GET"!==r&&n&&JSON.stringify(n,u)||n||"";var i=!("GET"===r&&!n);if(!(e.origin===t.url.origin))return Promise.reject(new Error("weavy.fetch: Only requests to the weavy server are allowed."));if(o=a({method:r,mode:"cors",cache:i?"no-cache":"default",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},redirect:"manual",referrerPolicy:"no-referrer-when-downgrade"},o,!0),n&&"GET"!==r)o.body=n;else if(n){let t=new URLSearchParams(n);e.search=(e.search?e.search+"&":"")+t.toString()}return t.authentication.whenAuthenticated().then((function(){return t.authentication.getAccessToken().then((function(n){return"string"!=typeof n?Promise.reject(new Error("weavy.fetch: Provided access token is empty!")):(o.headers.Authorization="Bearer "+n,window.fetch(e.toString(),o).then((function(n){return 401===n.status||403===n.status?(t.warn("weavy.fetch: access token failed, trying again"),t.authentication.getAccessToken(!0).then((function(t){return o.headers.Authorization="Bearer "+t,window.fetch(e.toString(),o)}))):n})).then(h).catch((function(e){return t.error("weavy.fetch: request failed!",e.message),Promise.reject(e)})))}))}))},t.destroy=function(){var e=new k,n=[],r=t.triggerEvent("destroy",{whenAllDestroyed:[]});return!1!==r?Promise.all(r.whenAllDestroyed||[]).then((function(){t.log("destroy: Removing roots"),m.forEach((function(e){e.remove()})),t.log("destroy: clearing events"),t.events.clear(),p();try{x.unregisterAll(t.getId())}catch(e){t.warn("weavy.destroy: could not unregister postal content windows")}for(var r in be.splice(be.indexOf(t.getId()),1),t)Object.prototype.hasOwnProperty.call(t,r)&&delete t[r];Promise.all(n).then((function(){e.resolve()}))})).catch((function(){e.reject()})):e.reject(),e()},t.navigation=new de(t),t.history=new ue(t),t.plugins={};var M={},P=[],L=[];function O(e){if(e){if(Object.prototype.hasOwnProperty.call(M,e)){var n=M[e];if(n.dependencies.length&&n.dependencies.forEach((function(n){"function"!=typeof Ie.plugins[n]?t.error("plugin dependency needed by "+e+" is not loaded/registered:",n):t.options.includePlugins&&!1!==t.options.plugins[n]||!t.options.includePlugins&&t.options.plugins[n]||t.error("plugin dependency needed by "+e+" is disabled:",n),-1===L.indexOf(n)?(L.push(n),O(n)):t.error("You have circular Weavy plugin dependencies:",e,n)})),Object.prototype.hasOwnProperty.call(M,e))return P.push(M[e]),delete M[e],L=[],!0}}else for(n in M)O(n);return!1}if(!1!==t.options.plugins){for(j in t.options.plugins=t.options.plugins||{},Ie.plugins)"function"==typeof Ie.plugins[j]?(t.options.includePlugins&&!1!==t.options.plugins[j]||!t.options.includePlugins&&t.options.plugins[j])&&(M[j]={name:j,dependencies:Array.isArray(Ie.plugins[j].dependencies)?Ie.plugins[j].dependencies:[]}):t.error("Registered plugin is not a plugin",j,typeof Ie.plugins[j]);for(var A in O(),P){var j=P[A].name;t.debug("Running Weavy plugin:",j),t.options.plugins[j]=a(Ie.plugins[j].defaults,o(t.options.plugins[j])?t.options.plugins[j]:{},!0),t.plugins[j]=new Ie.plugins[j](t,t.options.plugins[j])||!0}}!0===t.options.init&&t.init()};Object.defineProperty(Ie.prototype,"type",{get:()=>"Weavy"}),Ie.presets={noplugins:{includePlugins:!1},core:{includePlugins:!1,plugins:{alert:!0,filebrowser:!0,preview:!0}}},Ie.defaults={container:null,https:"adaptive",init:!0,includePlugins:!0,includeStyles:!0,includeFont:!0,includeThemeColor:!0,plugins:{deeplinks:!1},preload:!0,shadowMode:"closed",url:"/"},Ie.plugins={},Object.defineProperty(Ie,"instances",{get:function(){return be.slice()},configurable:!1}),Object.defineProperty(Ie,"version",{get:function(){return"16.0.2"},configurable:!1});const ke=Ie;class xe{constructor(e,t){const n=this;let r=new Map;this.getBadges=t=>"messenger"===t.type?e.fetch("dropin/client/conversation-badge/").then((e=>e.private+e.rooms)):Promise.reject(),this.get=e=>{n.getBadges(e).then((t=>{e.triggerEvent("badge",{count:t})})).catch((()=>{}))},e.whenLoaded().then((()=>{for(var o=0;o<e.apps.length;o++){let a=e.apps[o];a.options.badge&&(r.set(a,window.setInterval((()=>n.get(a)),t.pollingTime)),a.whenLoaded().then((()=>{clearInterval(r.get(a)),r.delete(a),n.get(a)})),n.get(a))}})),e.on("message",{name:"badge"},((e,t)=>{t.app&&t.app.options.badge&&t.app.triggerEvent("badge",{count:t.count})})),e.on("destroy clear-user signed-out",(function(){r.forEach((e=>window.clearInterval(e))),r.clear()}))}}xe.defaults={pollingTime:6e4},ke.plugins.badges=xe;class Ee{constructor(e,t){if(e.on("history",(function(t,n){var r=e.options.plugins.deeplinks,o=n.globalState.panels.filter((function(e){return e.changedAt&&e.isOpen&&(!e.statusCode||200===e.statusCode)})),a=o.slice(-1),i=(r.multiple?o:a).map((function(e){return e.weavyUri}));return n.url=i.length?"#"+i.join(r.delimiter):n.url.split("#")[0],n})),!e.history.getBrowserState()&&window.location.hash){var n=window.location.hash.replace(/^#/,"").split(t.delimiter),r=e.history.getStateFromUri(n);r.panels.length&&(e.debug("deeplinks: setting initial state"),e.history.setBrowserState(r,"replace"))}}}Ee.defaults={multiple:!1,delimiter:","},Ee.dependencies=[],ke.plugins.deeplinks=Ee;class Se{constructor(e,t){var n=new URL(t.url),r=n.origin;e.panels.origins.add(r);var o,a=null,i="";try{i=window.location.ancestorOrigins&&0<window.location.ancestorOrigins.length?window.location.ancestorOrigins[window.location.ancestorOrigins.length-1]:window.top.document.location.origin}catch(e){}if(!i)try{i=window.self.document.location.origin}catch(t){e.error("Filebrowser: Could not read current origin.")}function s(t){t!==o&&(e.debug("init filebrowser"),(o=t).node.classList.remove("wy-modal-full"),o.on("message",((e,t)=>{"google-selected"===t.name&&o.node.classList.add("wy-modal-full")})),o.on("before:panel-close",(()=>{o.loadingStarted(!0)})),o.on("after:panel-close",(()=>{o.node.classList.remove("wy-modal-full")})))}e.on("panel-added",((e,t)=>{"filebrowser"===t.attributes.type&&s(t.panel)})),e.on(x,"add-external-blobs",e.getId(),(function(e){a&&x.postToSource(a,e.data)})),e.on(x,"request:file-browser-open",e.getId(),(function(t){a=t,o=function(){let t={};return t.url=n.href+"?origin="+i+"&v=X&t="+Date.now().toString()+"&weavyId="+e.getId(),t.overlayId="filebrowser",t.type="filebrowser",t.className="wy-modal",t.title="Add file from cloud",e.log("filebrowser-open",t),s(e.overlays.overlay(t)),o.location&&o.location!==t.url&&o.reset(),o.open(t.url),o}()})),e.on(x,"request:file-browser-close",e.getId(),(function(e){o?.close(),a&&x.postToSource(a,Object.assign({},e.data,{name:"file-browser-closed"}))}))}}Se.defaults={url:"https://filebrowser.weavy.io/v14/"},ke.plugins.filebrowser=Se;class Ce{constructor(e,t){function n(t,n){var r;if(e.log("maximize",null!==t?t:"toggle",this.panelId),!1===t||this.maximized&&!0!==t){if(this.initialStyles){for(r in e.debug("restoring maximize styles"),this.initialStyles)Object.prototype.hasOwnProperty.call(this.initialStyles,r)&&(this.node.style[r]=this.initialStyles[r]);delete this.initialStyles}this.node.style.position=this.initialPosition,this.node.style.zIndex=this.initialZIndex,delete this.initialPosition,delete this.initialZIndex,this.maximized=!1}else{if(void 0===this.initialPosition&&(this.initialPosition=this.node.style.position),void 0===this.initialZIndex&&(this.initialZIndex=this.node.style.zIndex),this.node.style.position="fixed",this.node.style.zIndex=2147483647,n&&void 0===this.initialStyles){e.debug("setting maximize styles");var o={};for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=this.node.style[r],this.node.style[r]=n[r]);this.initialStyles=o}this.maximized=!0}}e.on("panel-added",(function(t,r){if(r.panel.maximize=n.bind(r.panel),r.attributes.controls&&(!0===r.attributes.controls||r.attributes.controls.maximize)){var o=r.attributes.controls.maximize,a=o&&"boolean"!=typeof o&&o;e.debug("maximize: adding panel control",r.panelId);var i=r.panel.node.querySelector(".wy-controls");i&&function(t,r,o){var a=document.createElement("div");a.className="wy-icon",a.title="Maximize",a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,4H20V20H4V4M6,8V18H18V8H6Z" /></svg>',e.on(a,"click",n.bind(r,null,o)),t.appendChild(a)}(i,r.panel,a)}}))}}Ce.defaults={},Ce.dependencies=[],ke.plugins.maximize=Ce;class Me{constructor(e,t){var n=[];function r(t,n){n||(e.whenTimeout(5e3).then((function(){t.classList.remove("wy-show")})),e.whenTimeout(5200).then((function(){t.remove()}))),e.whenTimeout(1).then((function(){t.classList.add("wy-show")})),e.nodes.dialogs.appendChild(t)}this.message=e.dialog=function(o,a){var i=document.createElement("div");return i.className=t.className,o instanceof HTMLElement||o instanceof DocumentFragment?i.appendChild(o):i.innerHTML=o,e.nodes.global?r(i,a):n.push([i,a]),e.log("Dialog:",i.innerText),i},e.on("build",(()=>{if(!e.nodes.dialogs){var n=document.createElement("div");n.className=t.containerClassName,e.nodes.global.appendChild(n),e.nodes.dialogs=n}})),e.on("after:build",(()=>{n.forEach((t=>{r.apply(e,t)})),n=[]}))}}Me.defaults={className:"wy-alert wy-fade",containerClassName:"wy-alerts"},ke.plugins.dialog=Me})(),r=r.default})()));